<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JamPlus manual: Jambase Rules</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript">
    DoxygenAwesomeTabs.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">JamPlus manual
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('jambase_rules.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Jambase Rules</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="jambase_intro"></a>
Introduction</h1>
<p>By default, <code>Jambase.jam</code> is the first Jam file loaded by Jam.</p>
<h1><a class="anchor" id="jambase_missing_rules"></a>
Missing rules</h1>
<p>The default <code>Jambase.jam</code> provides implementation of the missing rule function <code>FindMissingRule</code>. That means that Jam makes a good attempt at automatically finding rules that have not been specifically loaded by a script via <code>IncludeModule</code> or <code>include</code> or similar mechanism. <code>FindMissingRule</code> splits the rule name into its components (separated by periods) and then searches the disk for a file of the component name. Each component file found is loaded and tested for the rule name.</p>
<p>For example, if the script asks for <code>C.Application</code>, Jam loads <code>modules/c.jam</code> and looks for a <code>C.Application</code> rule. It will find the <code>C.Application</code> rule and execute it.</p>
<p>As another example, if the script calls <code>CopyFile</code>, Jam will look in <code>modules/copyfile.jam</code> for the <code>CopyFile</code> rule.</p>
<p>If the script wants to execute the rule <code>Assets.Build.Something</code>, the following happens:</p>
<ol type="1">
<li><code>modules/assets.jam</code> is loaded. A test is performed for the rule <code>Assets.Build.Something</code>. If it is found, it is executed.</li>
<li><code>modules/assets/build.jam</code> is loaded. A test is performed for the existence of the rule <code>Assets.Build.Something</code>.</li>
<li><code>modules/assets/build/something.jam</code> is loaded. A test is performed for the existence of the rule <code>Assets.Build.Something</code>.</li>
<li>Assuming the search made it this far, the rule <code>Assets.Build.Something</code> does not exist. Now, Jam begins looking for a more generic rule called <code>Assets.Build.Something.*</code>.</li>
<li>If that is not found, <code>Assets.Build.*</code> is searched for.</li>
<li>If that is not found, <code>Assets.*</code> is searched for.</li>
<li>If any are found, <code>$(__MISSING_RULE_COMPONENTS)</code> is filled in with the string list <code>Assets Build Something</code>. <code>$(__MISSING_RULE_SCAN_LIST)</code> is filled in with the rules that were searched for and can be used for error reporting.</li>
</ol>
<p>The following is a list of rules available in <code>bin/Jambase.jam</code>.</p>
<p>If [square] brackets are used the argument is optional.</p>
<div>
<ul class="multicol">
<li><a class="el" href="#rule_ActiveTarget">ActiveTarget</a></li>
<li><a class="el" href="#rule_AutoSourceGroup">AutoSourceGroup</a></li>
<li><a class="el" href="#rule_Clean">Clean</a></li>
<li><a class="el" href="#rule_CleanTree">CleanTree</a></li>
<li><a class="el" href="#rule_ExternalProject">ExternalProject</a></li>
<li><a class="el" href="#rule_FGristDirectories">FGristDirectories</a></li>
<li><a class="el" href="#rule_IncludeModule">IncludeModule</a></li>
<li><a class="el" href="#rule_MakeLocate">MakeLocate</a></li>
<li><a class="el" href="#rule_MkDir">MkDir</a></li>
<li><a class="el" href="#rule_NoWorkspace">NoWorkspace</a></li>
<li><a class="el" href="#rule_Project">Project</a></li>
<li><a class="el" href="#rule_ProjectGroup">ProjectGroup</a></li>
<li><a class="el" href="#rule_RmTemps">RmTemps</a></li>
<li><a class="el" href="#rule_SearchSource">SearchSource</a></li>
<li><a class="el" href="#rule_SourceGroup">SourceGroup</a></li>
<li><a class="el" href="#rule_SubDir">SubDir</a></li>
<li><a class="el" href="#rule_SubInclude">SubInclude</a></li>
<li><a class="el" href="#rule_SubIncludeRelative">SubIncludeRelative</a></li>
<li><a class="el" href="#rule_Workspace">Workspace</a></li>
<li><a class="el" href="#rule_WorkspaceConfig">WorkspaceConfig</a></li>
<li><a class="el" href="#actions_WriteFile">WriteFile</a></li>
</ul>
</div>
<hr  />
 <h1><a class="anchor" id="rule_ActiveTarget"></a>
rule ActiveTarget TARGET</h1>
<p><a id="a46_rule_ActiveTarget" name="a46_rule_ActiveTarget"></a></p>
<p>Set the default target to use when the target isn't specified. Calls <a class="el" href="module_c.html#rule_C_ActiveTarget">rule C.ActiveTarget TARGET</a> under the hood.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The default target name to use for upcoming rules.</td></tr>
  </table>
  </dd>
</dl>
<hr  />
 <h1><a class="anchor" id="rule_AutoSourceGroup"></a>
rule AutoSourceGroup [ TARGET ] [ : SOURCES ]</h1>
<p><a id="a47_rule_AutoSourceGroup" name="a47_rule_AutoSourceGroup"></a></p>
<p>For workspace projects that support grouping of files into folders, the <code>AutoSourceGroup</code> rule is used to tell the </p><pre>jam --workspace</pre><p> generator to create folders within a project based on the relative paths of the <code>SOURCES</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>(optional) The project for which the folders will be created. If no project is specified, <code>AutoSourceGroup</code> will be automatically applied to all projects. </td></tr>
    <tr><td class="paramname">SOURCES</td><td>(optional) The list of files to derive folder names from.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Put helloworld.cpp and .h in the top-level project folder.</span></div>
<div class="line"><span class="preprocessor"># Put filename.cpp and .h in a project folder called platform\\directory (in SourceGroup syntax).</span></div>
<div class="line">SRCS =</div>
<div class="line">        helloworld.cpp</div>
<div class="line">        helloworld.h</div>
<div class="line">        platform/directory/filename.cpp</div>
<div class="line">        platform/directory/filename.h</div>
<div class="line">;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># Apply to every project:</span></div>
<div class="line">AutoSourceGroup ;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># or just a specific project:</span></div>
<div class="line">AutoSourceGroup MyProject : $(SRCS) ;</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="rule_Clean"></a>
rule Clean TARGETS : FILES</h1>
<p><a id="a48_rule_Clean" name="a48_rule_Clean"></a></p>
<p>When executing actions for <code>TARGETS</code>, the specified list of <code>FILES</code> are removed from the disk, and any empty directories resulting from the file deletions are removed, too.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGETS</td><td>A list of one or more targets. Generally, the target name is <code>clean</code> or <code>clean:SOMETARGET</code>. </td></tr>
    <tr><td class="paramname">FILES</td><td>A list of files to be deleted.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">Clean clean : &lt;mytarget&gt;myfile.txt $(TEMP)/anotherfile.txt ;</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="rule_CleanTree"></a>
rule CleanTree TARGETS : DIRECTORIES</h1>
<p><a id="a49_rule_CleanTree" name="a49_rule_CleanTree"></a></p>
<p>When executing actions for <code>TARGETS</code>, the specified list of <code>DIRECTORIES</code> are removed from the disk.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGETS</td><td>A list of one or more targets. Generally, the target name is <code>clean</code> or <code>clean:SOMETARGET</code>. </td></tr>
    <tr><td class="paramname">DIRECTORIES</td><td>A list of directories to be deleted.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">CleanTree clean : $(TEMP)/a/directory ;</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="rule_ExternalProject"></a>
rule ExternalProject PROJECT_NAME : PROJECT_PATH</h1>
<p><a id="a50_rule_ExternalProject" name="a50_rule_ExternalProject"></a></p>
<p>When generating a workspace, it can sometimes be useful to include projects that are not generated by the Jam workspace generator. These projects can be made available via a combination of the <code>ExternalProject</code> and <code>Workspace</code> rules.</p>
<p>Currently, only external projects are supported within Visual Studio 201x and must be either <code>.vcxproj</code> or <code>.csproj</code> project files.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">PROJECT_NAME</td><td>The name of the project. </td></tr>
    <tr><td class="paramname">PROJECT_PATH</td><td>The path to the project file to include in the workspace.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">ExternalProject MyClassLibrary : $(TOP)/MyClassLibrary/MyClassLibrary.csproj ;</div>
<div class="line">Workspace testapp : MyClassLibrary ;</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="rule_FGristDirectories"></a>
rule FGristDirectories DIRECTORIES</h1>
<p><a id="a51_rule_FGristDirectories" name="a51_rule_FGristDirectories"></a></p>
<p>Given a list of <code>DIRECTORIES</code>, a gristed version of each is returned. Currently, this means the directories are returned in the form: <code>&lt;!dir!&gt;directory/name</code></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">DIRECTORIES</td><td>The directories to grist. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the gristed version of each directory.</dd></dl>
<div class="fragment"><div class="line">Echo [ FGristDirectories $(TEMP)/stuff ] ;</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="rule_IncludeModule"></a>
rule IncludeModule MODULE_NAME</h1>
<p><a id="a52_rule_IncludeModule" name="a52_rule_IncludeModule"></a></p>
<p>Loads a Jam module. It searches in the following manner:</p>
<ul>
<li>
The current <code>$(SUBDIR)</code> </li>
<li>
The current working directory <code>$(CWD)</code> </li>
<li>
The current working directory <code>$(CWD)/jam/</code> </li>
<li>
<code>$(JAM_MODULES_USER_PATH)</code> </li>
<li>
<code>$(JAM_MODULES_PATH)</code> which includes the <code>bin/modules/</code> directory </li>
</ul>
<p>When <code>IncludeModule</code> is specified more than once for the same <code>MODULE_NAME</code>, the module is only loaded once.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MODULE_NAME</td><td>The name of the module, which is the filename without an extension. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the module name if successful. If the <code>MODULE_NAME</code> was not found, nothing is returned.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Make the C.UseDirectX rule available.</span></div>
<div class="line">IncludeModule c/directx ;</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="rule_MakeLocate"></a>
rule MakeLocate TARGETS : DIRECTORY : OPTIONS</h1>
<p><a id="a53_rule_MakeLocate" name="a53_rule_MakeLocate"></a></p>
<p>Creates <code>DIRECTORY</code> and causes <code>TARGETS</code> to be built into the directory. It does so by setting the special Jam variable <code>LOCATE</code> on each of the <code>TARGETS</code> and then arranges with <a class="el" href="#rule_MkDir">rule MkDir DIRECTORY</a> to create the target directory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGETS</td><td>The targets to set the output directory on. </td></tr>
    <tr><td class="paramname">DIRECTORY</td><td>The output directory to build the targets into. </td></tr>
    <tr><td class="paramname">OPTIONS</td><td>If <code>combine</code> is specified, then any directory attached to the <code>TARGETS</code> name is created, and a <code>BINDING</code> is set to allow the target to work properly.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Set the output location of the given target to be the TEMP directory.</span></div>
<div class="line">MakeLocate junkfile.txt : $(TEMP) ;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># Creates the directory $(TEMP)/abc/def, sets the LOCATE for target abc/def/file.txt</span></div>
<div class="line"><span class="preprocessor"># to $(TEMP)/abc/def and sets the BINDING to be file.txt.</span></div>
<div class="line">MakeLocate abc/def/file.txt : $(TEMP) : combine ;</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="rule_MkDir"></a>
rule MkDir DIRECTORY</h1>
<p><a id="a54_rule_MkDir" name="a54_rule_MkDir"></a></p>
<p>Creates <code>DIRECTORY</code> and its parent directories.</p>
<p>If using <code>MkDir</code> separately from <a class="el" href="#rule_MakeLocate">rule MakeLocate TARGETS : DIRECTORY : OPTIONS</a>, it is necessary to set dependencies using the properly gristed directory name obtained through <a class="el" href="#rule_FGristDirectories">rule FGristDirectories DIRECTORIES</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">DIRECTORY</td><td>The output directory to create.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Create a directory in the TEMP directory called stuff/.</span></div>
<div class="line">MkDir $(TEMP)/stuff ;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># Link it into the dependency graph.</span></div>
<div class="line">Depends sometarget : [ FGristDirectories $(TEMP)/stuff ] ;</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="rule_NoWorkspace"></a>
rule NoWorkspace WORKSPACE_NAME</h1>
<p><a id="a55_rule_NoWorkspace" name="a55_rule_NoWorkspace"></a></p>
<p>Workspaces are automatically generated for any executable processed while reading in the Jamfiles. To prevent a workspace from automatically exporting, this rule is used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">WORKSPACE_NAME</td><td>The name of the new workspace to suppress the export of.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">NoWorkspace lua ;</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="rule_Project"></a>
rule Project PROJECT_NAME : SOURCES</h1>
<p><a id="a56_rule_Project" name="a56_rule_Project"></a></p>
<p>When generating a workspace, projects are automatically made of each executable or library processed while reading in the Jamfiles. When a project isn't an executable or library, such as one containing data files, the <code>Project</code> rule can be used to generate a project containing those files.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">PROJECT_NAME</td><td>The name of the new project to generate. </td></tr>
    <tr><td class="paramname">SOURCES</td><td>The list of files representing the contents of the new project.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">Project Data : $(DATA_FILES) ;</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="rule_ProjectGroup"></a>
rule ProjectGroup TARGET : FOLDERNAME : PROJECTS</h1>
<p><a id="a57_rule_ProjectGroup" name="a57_rule_ProjectGroup"></a></p>
<p>For workspaces that support grouping of projects into folders, the <code>ProjectGroup</code> rule is used to tell <b>JamToWorkspace</b> which projects go into which folders.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The workspace to which the project folders will be created. </td></tr>
    <tr><td class="paramname">FOLDERNAME</td><td>The backslash separated folder name to which <code>PROJECTS</code> will be inserted into. </td></tr>
    <tr><td class="paramname">PROJECTS</td><td>The list of projects to put into the folder.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">ProjectGroup MyApp : <span class="stringliteral">&quot;Plugins\\Data Generators&quot;</span> : DataGeneratorA DataGeneratorB ;</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="rule_RmTemps"></a>
rule RmTemps TARGETS : SOURCES</h1>
<p><a id="a58_rule_RmTemps" name="a58_rule_RmTemps"></a></p>
<p>Marks <code>SOURCES</code> as temporary with the <code>Temporary</code> rule and deletes <code>SOURCES</code> once <code>TARGETS</code> are built. <code>RmTemps</code> must be the last rule invoked on <code>TARGETS</code>. Used internally.</p>
<hr  />
 <h1><a class="anchor" id="rule_SearchSource"></a>
rule SearchSource SOURCES</h1>
<p><a id="a59_rule_SearchSource" name="a59_rule_SearchSource"></a></p>
<p>Applies $(SEARCH_SOURCE) to all <code>SOURCES</code> that do not already have a <code>SEARCH</code> applied. Generally, <code>SEARCH_SOURCE</code> is applied through rules just as <code>Application</code> or <code>Library</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">SOURCES</td><td>The list of sources to apply $(SEARCH_SOURCE) to.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">SearchSource $(SRCS) ;</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="rule_SourceGroup"></a>
rule SourceGroup TARGET : FOLDERNAME : SOURCES</h1>
<p><a id="a60_rule_SourceGroup" name="a60_rule_SourceGroup"></a></p>
<p>For workspace projects that support grouping of files into folders, the <code>SourceGroup</code> rule is used to tell <b>JamToWorkspace</b> which files are to be placed into which folders within a project.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The project to which the folders will be created. </td></tr>
    <tr><td class="paramname">FOLDERNAME</td><td>The backslash separated folder name to which <code>SOURCES</code> will be inserted. </td></tr>
    <tr><td class="paramname">SOURCES</td><td>The list of files to put into the folder.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">SourceGroup Misc : <span class="stringliteral">&quot;zlib&quot;</span> : $(ZLIB_SRCS) ;</div>
<div class="line">SourceGroup Misc : <span class="stringliteral">&quot;string\\trio&quot;</span> : $(TRIO_SRCS) ;</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="rule_SubDir"></a>
rule SubDir TOP d1...dn : SUBNAME</h1>
<p><a id="a61_rule_SubDir" name="a61_rule_SubDir"></a></p>
<p>Sets up housekeeping for the source files located in <code>/d1/.../dn</code>:</p>
<ul>
<li>
Reads in rules file associated with <code>TOP</code>, if it hasn't already been read. </li>
<li>
Initializes subdirectory specific variables for search paths, output directories, compiler flags, and grist, using <code>d1...dn</code> tokens. </li>
</ul>
<p><code>TOP</code> is the name of a variable; <code>d1</code> thru <code>dn</code> are elements of a directory path.</p>
<hr  />
 <h1><a class="anchor" id="rule_SubInclude"></a>
rule SubInclude VAR d1...dn : FILETITLE : OPTIONS</h1>
<p><a id="a62_rule_SubInclude" name="a62_rule_SubInclude"></a></p>
<p>Reads the Jamfile in <code>/d1/.../dn/</code>. Assumes a default Jamfile name of <code>Jamfile.jam</code>. If <code>FILETITLE</code> is specified, <code>.jam</code> is read instead of <code>Jamfile.jam</code>.</p>
<p>A given Jamfile is only ever read in once, even if multiple <code>SubInclude</code> calls are made with the same arguments.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">VAR</td><td>A previously specified <code>TOP</code> variable created with <a class="el" href="#rule_SubDir">rule SubDir TOP d1...dn : SUBNAME</a>. </td></tr>
    <tr><td class="paramname">d1...dn</td><td>Additional directory components from  making up the total path of <code>/d1/.../dn/</code>. </td></tr>
    <tr><td class="paramname">FILETITLE</td><td>(optional) If specified, a Jamfile called <code>.jam</code> is read instead of the default <code>Jamfile.jam</code>. </td></tr>
    <tr><td class="paramname">OPTIONS</td><td>(optional) If <code>nocare</code> is specified, then <code>FILETITLE</code> does not have to exist.</td></tr>
  </table>
  </dd>
</dl>
<hr  />
 <h1><a class="anchor" id="rule_SubIncludeRelative"></a>
rule SubIncludeRelative RELATIVE_PATH : FILETITLE : OPTIONS</h1>
<p><a id="a63_rule_SubIncludeRelative" name="a63_rule_SubIncludeRelative"></a></p>
<p>After a <code>SubDir</code> rule has been called, <code>SubIncludeRelative</code> can be used to move within the <code>SubDir</code> structure. Currently, it only works traversing into child directories. It cannot be used with a <code>..</code> to move to a parent directory.</p>
<p>Further information may be found in <a class="el" href="#rule_SubInclude">SubInclude</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">RELATIVE_PATH</td><td>The relative child directory to move into. </td></tr>
    <tr><td class="paramname">FILETITLE</td><td>(optional) If specified, a Jamfile called <code>.jam</code> is read instead of the default <code>Jamfile.jam</code>. </td></tr>
    <tr><td class="paramname">OPTIONS</td><td>(optional) If <code>nocare</code> is specified, then <code>FILETITLE</code> does not have to exist.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">SubDir TOP ;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># ...</span></div>
<div class="line"> </div>
<div class="line">SubIncludeRelative MyProject ;  # The same as: SubInclude TOP MyProject</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="rule_Workspace"></a>
rule Workspace WORKSPACE_NAME : TARGETS</h1>
<p><a id="a64_rule_Workspace" name="a64_rule_Workspace"></a></p>
<p>Workspaces are automatically generated for any executable processed while reading in the Jamfiles. To create additional workspaces, such as one that combines all executables into one workspace, the <code>Workspace</code> rule is used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">WORKSPACE_NAME</td><td>The name of the new workspace to generate. </td></tr>
    <tr><td class="paramname">TARGETS</td><td>The list of targets representing the projects of the new workspace.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">Workspace Project-all : AppA AppB AppC ;</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="rule_WorkspaceConfig"></a>
rule WorkspaceConfig WORKSPACE_NAME : CONFIG_NAME : JAM_CONFIG_NAME : COMMAND_LINE</h1>
<p><a id="a65_rule_WorkspaceConfig" name="a65_rule_WorkspaceConfig"></a></p>
<p>Usually, configurations are created in a workspace according to the <code>VALID_CONFIGS</code> variable found within the generated workspace's <code>Jambase.jam</code>. These configurations can come from the defaults or from a config file passed to 'jam &ndash;workspace'.</p>
<p>Using the <code>WorkspaceConfig</code> rule, the default generated configurations can be overridden for a given generated workspace/solution.</p>
<p>Each user-specified workspace config gets its Jam command-line replaced entirely with the one specified on the WorkspaceConfig invocation. For that reason, it is very important to provide the <code>C.TOOLCHAIN</code> variable to the command-line, or Jam will not know what compiler, platform, and configuration it is building.</p>
<p>Please make note that workspace configurations are not Jam configurations, so confusion may arise. Assumptions about output and intermediate directories are made based on the platform and config specified via <code>C.TOOLCHAIN</code>. Unless Jam rules are altered from the shipping defaults, there is not a unique intermediate and output location per provided <code>WorkspaceConfig</code>.</p>
<p>In reality, a <code>WorkspaceConfig</code> is a hack. Just modify the generated <code>customsettings.jam</code> file instead, as it better represents what is actually happening within the build.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">WORKSPACE_NAME</td><td>The name of the workspace to modify. </td></tr>
    <tr><td class="paramname">CONFIG_NAME</td><td>The name of the new configuration for the workspace. </td></tr>
    <tr><td class="paramname">JAM_CONFIG_NAME</td><td>The name of the Jam build configuration being built on top of. </td></tr>
    <tr><td class="paramname">COMMAND_LINE</td><td>Any additional command line parameters to pass on the Jam command-line for this <code>CONFIG_NAME</code>.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Generate workspaces with the following configs:</span></div>
<div class="line"><span class="preprocessor">#</span></div>
<div class="line"><span class="preprocessor">#   * debug_d3d</span></div>
<div class="line"><span class="preprocessor">#   * debug_opengl</span></div>
<div class="line"><span class="preprocessor">#   * debug_sdl</span></div>
<div class="line"><span class="preprocessor">#   * release_d3d</span></div>
<div class="line"><span class="preprocessor">#   * release_opengl</span></div>
<div class="line"><span class="preprocessor">#   * release_sdl</span></div>
<div class="line"><span class="keywordflow">if</span> $(TARGETINFO_LOCATE) {</div>
<div class="line">    local config ;</div>
<div class="line">    <span class="keywordflow">for</span> config in debug release {</div>
<div class="line">        local engine ;</div>
<div class="line">        <span class="keywordflow">for</span> engine in d3d opengl sdl {</div>
<div class="line">            local dollar = $ ;</div>
<div class="line">            WorkspaceConfig $(THE_WORKSPACE_NAME) : $(config)_$(engine) : $(config) : C.TOOLCHAIN=$(dollar)(PLATFORM)/$(config) THE_ENGINE=$(engine) ;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="actions_WriteFile"></a>
actions WriteFile TARGETS</h1>
<p><a id="a66_actions_WriteFile" name="a66_actions_WriteFile"></a></p>
<p><code>WriteFile</code> is an action that writes the setting <code>CONTENTS</code> to the specified <code>TARGETS</code>.</p>
<p>To ensure changes in <code>CONTENTS</code> are written to the <code>TARGETS</code>, use <a class="el" href="builtin_rules.html#rule_UseCommandLine">rule UseCommandLine TARGETS : COMMANDLINE;</a> to signify changes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGETS</td><td>The targets to write to.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">CONTENTS on abc.txt = <span class="stringliteral">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span> ;</div>
<div class="line">UseCommandLine abc.txt : $(CONTENTS:Z=abc.txt) ;</div>
<div class="line">WriteFile abc.txt ;</div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="rule_WriteFileContents"></a>
rule WriteFileContents TARGETS : CONTENTS</h1>
<p><a id="a67_rule_WriteFileContents" name="a67_rule_WriteFileContents"></a></p>
<p>Use <code>WriteFileContents</code> to write <code>CONTENTS</code> into the file(s) specified by <code>TARGETS</code>.</p>
<p>This is a wrapper over the top of <a class="el" href="#actions_WriteFile">actions WriteFile TARGETS</a>.</p>
<p>Its implementation is:</p>
<div class="fragment"><div class="line">rule WriteFileContents TARGETS : CONTENTS</div>
<div class="line">{</div>
<div class="line">    CONTENTS on $(TARGETS) = $(CONTENTS) ;</div>
<div class="line">    UseCommandLine $(TARGETS) : $(CONTENTS) ;</div>
<div class="line">    WriteFile $(TARGETS) ;</div>
<div class="line">    <span class="keywordflow">return</span> $(TARGETS) ;</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGETS</td><td>The targets to write to.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">WriteFileContents abc.txt : <span class="stringliteral">&quot;abcdefghi jklmnopqrstuv wxyz&quot;</span> ;</div>
</div><!-- fragment --><hr  />
 </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
</body>
</html>
