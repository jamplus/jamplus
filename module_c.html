<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>C/C++ Rules</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.8.9.1 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">C/C++ Rules </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="fragment"><div class="line"><span class="preprocessor"># Automatically made available, so this isn&#39;t needed.</span></div>
<div class="line"><span class="preprocessor">IncludeModule c ;</span></div>
</div><!-- fragment --><p>The C module provides rules to build C and C++ applications, shared libraries, and static libraries.</p>
<p>When first loaded, it attempts to detect the compiler on the machine. On Windows, it can successfully detect and run Visual Studio 2010, Visual Studio 2008, Visual Studio 2005, Visual Studio 2003, and Visual C++ 6. MinGW can also be specified. On other OSes, it attempts to detect GCC.</p>
<h1><a class="anchor" id="module_c_ruleslist"></a>
List of Rules</h1>
<div class="multicol">
<ul>
<li><a href="module_c.html#rule_C_AddBuildExtensions">C.AddBuildExtensions</a></li>
<li><a href="module_c.html#rule_C_Application">C.Application</a></li>
<li><a href="module_c.html#rule_C_BatchCompileGroupSize">C.BatchCompileGroupSize</a></li>
<li><a href="module_c.html#rule_C_CFlags">C.CFlags</a></li>
<li><a href="module_c.html#rule_C_CppExceptions">C.C++Exceptions</a></li>
<li><a href="module_c.html#rule_C_CppFlags">C.C++Flags</a></li>
<li><a href="module_c.html#rule_C_CompileOptions">C.CompileOptions</a></li>
<li><a href="module_c.html#rule_C_RuntimeType">C.RuntimeType</a></li>
<li><a href="module_c.html#rule_C_DefFile">C.DefFile</a></li>
<li><a href="module_c.html#rule_C_Defines">C.Defines</a></li>
<li><a href="module_c.html#rule_C_ExcludeFromBuild">C.ExcludeFromBuild</a></li>
<li><a href="module_c.html#rule_C_Flags">C.Flags</a></li>
<li><a href="module_c.html#rule_C_ForceInclude">C.ForceInclude</a></li>
<li><a href="module_c.html#rule_C_GetLinkTargets">C.GetLinkTargets</a></li>
<li><a href="module_c.html#rule_C_IncludeDirectories">C.IncludeDirectories</a></li>
<li><a href="module_c.html#rule_C_Inherits">C.Inherits</a></li>
<li><a href="module_c.html#rule_C_Library">C.Library</a></li>
<li><a href="module_c.html#rule_C_LinkDirectories">C.LinkDirectories</a></li>
<li><a href="module_c.html#rule_C_LinkFlags">C.LinkFlags</a></li>
<li><a href="module_c.html#rule_C_LinkFrameworks">C.LinkFrameworks</a></li>
<li><a href="module_c.html#rule_C_LinkLibraries">C.LinkLibraries</a></li>
<li><a href="module_c.html#rule_C_LinkPrebuiltLibraries">C.LinkPrebuiltLibraries</a></li>
<li><a href="module_c.html#rule_C_Lump">C.Lump</a></li>
<li><a href="module_c.html#rule_C_NoPrecompiledHeader">C.NoPrecompiledHeader</a></li>
<li><a href="module_c.html#rule_C_ObjectCFlags">C.ObjectCFlags</a></li>
<li><a href="module_c.html#rule_C_ObjectCppFlags">C.ObjectC++Flags</a></li>
<li><a href="module_c.html#rule_C_ObjectDefines">C.ObjectDefines</a></li>
<li><a href="module_c.html#rule_C_ObjectForceInclude">C.ObjectForceInclude</a></li>
<li><a href="module_c.html#rule_C_OutputName">C.OutputName</a></li>
<li><a href="module_c.html#rule_C_OutputPath">C.OutputPath</a></li>
<li><a href="module_c.html#rule_C_OutputPostfix">C.OutputPostfix</a></li>
<li><a href="module_c.html#rule_C_OutputPostfixClear">C.OutputPostfixClear</a></li>
<li><a href="module_c.html#rule_C_OutputSuffix">C.OutputSuffix</a></li>
<li><a href="module_c.html#rule_C_PrecompiledHeader">C.PrecompiledHeader</a></li>
</ul>
</div>
<h1><a class="anchor" id="module_c_rules"></a>
Rules</h1>
<hr/>
 <h1><a class="anchor" id="rule_C_AddBuildExtensions"></a>
rule C.AddBuildExtensions TYPE : EXTS : RULE : SUFOBJ : ADD_TO_EXTENSIONS : ADD_TO_LINK</h1>
<p><a name="rule_%43_Add%42uild%45xtensions"></a></p>
<p>Makes a new C/C++ source extensions available to the compiler. This rule requires some additional setup, described below.</p>
<p><code>TYPE</code> identifies a category of files and is a short identifier, usually all caps. It is used to access compiler flags variables during a file's compilation. If <code>TYPE</code> were specified as <code>CC</code>, then the compiler flags in the variables called <code>preCCFLAGS</code>, <code>CCFLAGS</code>, <code>SUBDIRCCFLAGS</code>, and <code>PCHCCFLAGS</code> would be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to link <code>SOURCES</code> into. The target name is given without extension. A platform specific extension will be generated, often reflecting a configuration type. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">SOURCES</td><td>The list of <code>.cpp</code>, <code>.cxx</code>, and <code>.c</code> (and possibly others) to link into the application. Object and compiled Windows resource files may also be passed with this list. </td></tr>
    <tr><td class="paramname">OPTIONS</td><td>The following options are available. All options are optional.</td></tr>
  </table>
  </dd>
</dl>
<p> <blockquote>  </p><ul>
<li>
<code>windows</code> - Forces a GUI application. On Windows, the application must have a <code>WinMain</code> function. For Visual C++, the executable is linked with <code>/SUBSYSTEM:WINDOWS</code>. </li>
<li>
<code>console</code> (default) - Builds a console application. For Visual C++, the executable is linked with <code>/SUBSYSTEM:CONSOLE</code>. </li>
</ul>
<p> </blockquote> </p>
<div class="fragment"><div class="line">C.Application helloworld : helloworld.cpp ;</div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_Application"></a>
rule C.Application TARGET : SOURCES [ : OPTIONS ]</h1>
<p><a name="rule_%43_Application"></a></p>
<p>Compiles <code>SOURCES</code> and links them into <code>TARGET</code>. Platform specific <code>.o</code> files or, on Visual C++ compilers, <code>.res</code> files are passed straight through to the linker. Any file excluded from the build via <a class="el" href="module_c.html#rule_C_ExcludeFromBuild">rule C.ExcludeFromBuild TARGET : SOURCES</a> is ignored.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to link <code>SOURCES</code> into. The target name is given without extension. A platform specific extension will be generated, often reflecting a configuration type. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">SOURCES</td><td>The list of <code>.cpp</code>, <code>.cxx</code>, and <code>.c</code> (and possibly others) to link into the application. Object and compiled Windows resource files may also be passed with this list. </td></tr>
    <tr><td class="paramname">OPTIONS</td><td>The following options are available. All options are optional. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the list of link targets, sometimes more than one, that will be built by the Jam.</dd></dl>
<p> <blockquote>  </p><ul>
<li>
<code>windows</code> - Forces a GUI application. On Windows, the application must have a <code>WinMain</code> function. For Visual C++, the executable is linked with <code>/SUBSYSTEM:WINDOWS</code>. </li>
<li>
<code>console</code> (default) - Builds a console application. For Visual C++, the executable is linked with <code>/SUBSYSTEM:CONSOLE</code>. </li>
</ul>
<p> </blockquote> </p>
<div class="fragment"><div class="line">C.Application helloworld : helloworld.cpp ;</div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_BatchCompileGroupSize"></a>
rule C.BatchCompileGroupSize TARGET [ : SIZE ]</h1>
<p><a name="rule_%43_%42atch%43ompile%47roup%53ize"></a></p>
<p>For the given project <code>TARGET</code>, only allow <code>SIZE</code> files to be batch compiled in a given compiler execution.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to assign the <code>SIZE</code> information to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">SIZE</td><td>(optional) The maximum number of files to allow to compile on a given compiler execution. If not specified, there is no limit to the number of batch compiled files.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># wxLua takes so long to build that we don&#39;t properly take advantage of</span></div>
<div class="line"><span class="preprocessor"># multithreading without splitting up the build some.</span></div>
<div class="line"><span class="preprocessor">C.BatchCompileGroupSize wxLua : 5 ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_CFlags"></a>
rule C.CFlags TARGET : FLAGS</h1>
<p><a name="rule_%43_%43%46lags"></a></p>
<p>For the given project <code>TARGET</code>, assign the <code>FLAGS</code> to the appropriate configuration and platform.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to assign the <code>FLAGS</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. If <code>TARGET</code> is <code>*</code>, the flags are made available globally. </td></tr>
    <tr><td class="paramname">FLAGS</td><td>The list of flags to apply.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Assign /clr:oldsyntax to all C files in managedapp across all</span></div>
<div class="line"><span class="preprocessor"># configurations and platforms.</span></div>
<div class="line">C.CFlags managedapp : /clr:oldsyntax ;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Assign /clr:oldsyntax to all C files in managedapp for the debug</span></div>
<div class="line"><span class="preprocessor"># configuration and all platforms.</span></div>
<div class="line">C.CFlags managedapp : /clr:oldsyntax : debug ;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Assign /clr:oldsyntax to all C files in managedapp for the debug</span></div>
<div class="line"><span class="preprocessor"># configuration and win32 platform.</span></div>
<div class="line"><span class="preprocessor">C.CFlags managedapp : /clr:oldsyntax : debug : win32 ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_CppExceptions"></a>
rule C.C++Exceptions TARGET : TYPE</h1>
<p><a name="rule_%43_%43%2b%2b%45xceptions"></a></p>
<p>For the given project <code>TARGET</code>, turn on/off C++ exception support within the specified configuration and platform.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to assign the <code>FLAGS</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. If <code>TARGET</code> is <code>*</code>, the flags are made available globally. </td></tr>
    <tr><td class="paramname">TYPE</td><td><code>true</code> to turn on exceptions, <code>false</code> (default) to turn off exceptions.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Turn on exceptions in the target mycppapp for the current $(CONFIG).</span></div>
<div class="line">C.C++Exceptions mycppapp : true ;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Turn on exceptions in the target mycppapp for all configs.</span></div>
<div class="line">C.C++Exceptions mycppapp : <span class="keyword">true</span> : * ;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Turn off exceptions in the target mycppapp for all configs.</span></div>
<div class="line"><span class="preprocessor">C.C++Exceptions mycppapp : false : * ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_CppFlags"></a>
rule C.C++Flags TARGET : FLAGS</h1>
<p><a name="rule_%43_%43pp%46lags"></a></p>
<p>For the given project <code>TARGET</code>, assign the <code>FLAGS</code> to the appropriate configuration and platform.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to assign the <code>FLAGS</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. If <code>TARGET</code> is <code>*</code>, the flags are made available globally. </td></tr>
    <tr><td class="paramname">FLAGS</td><td>The list of flags to apply.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Assign /clr:oldsyntax to all C++ files in managedapp across all</span></div>
<div class="line"><span class="preprocessor"># configurations and platforms.</span></div>
<div class="line">C.C++Flags managedapp : /clr:oldsyntax ;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Assign /clr:oldsyntax to all C++ files in managedapp for the debug</span></div>
<div class="line"><span class="preprocessor"># configuration and all platforms.</span></div>
<div class="line">C.C++Flags managedapp : /clr:oldsyntax : debug ;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Assign /clr:oldsyntax to all C++ files in managedapp for the debug</span></div>
<div class="line"><span class="preprocessor"># configuration and win32 platform.</span></div>
<div class="line"><span class="preprocessor">C.C++Flags managedapp : /clr:oldsyntax : debug : win32 ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_CompileOptions"></a>
rule C.CompileOptions OPTIONS</h1>
<p><a name="rule_%43_%43ompile%4fptions"></a></p>
<p>Sets options that affect how the compiler builds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">OPTIONS</td><td>The following options are available.</td></tr>
  </table>
  </dd>
</dl>
<p> <blockquote>  </p><ul>
<li>
<code>outputastree</code> - Set this if you want object files to be put in subdirectories matching the directory hierarchy of the source files. <code>..</code> directory entries are changed to <code>__</code> so the object files stay within the build hierarchy. The default is to put all object files in one flat directory per project. </li>
</ul>
<p> </blockquote> </p>
<div class="fragment"><div class="line">C.CompileOptions outputastree ;</div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_RuntimeType"></a>
rule C.RuntimeType TARGET : TYPE [ : THE_PLATFORM ]</h1>
<p><a name="rule_%43_%52untime%54ype"></a></p>
<p>For the given project <code>TARGET</code>, alter the build to use either a statically linked C runtime or a dynamically linked C runtime.</p>
<dl class="section note"><dt>Note</dt><dd>At this time, the C runtime type only affects Visual C++ applications.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to assign the new C runtime to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. If <code>TARGET</code> is <code>*</code>, the C runtime is changed globally. </td></tr>
    <tr><td class="paramname">TYPE</td><td>May be set to either <code>static</code> or <code>dynamic</code>. Use <code>static</code> to select a statically linked C runtime. Use <code>dynamic</code> to dynamically link against the C runtime. </td></tr>
    <tr><td class="paramname">THE_PLATFORM</td><td>(optional) If not specified, the default is the current platform.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Use the statically linked C runtime for all targets.</span></div>
<div class="line">C.RuntimeType * : static ;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Use the dynamically linked C runtime for the helloworld target.</span></div>
<div class="line"><span class="preprocessor">C.RuntimeType helloworld : dynamic ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_DefFile"></a>
rule C.DefFile TARGET : SOURCES</h1>
<p><a name="rule_%43_%44ef%46ile"></a></p>
<p>When linking the given <code>TARGET</code>, link the .def file(s) specified in <code>SOURCES</code>.</p>
<dl class="section note"><dt>Note</dt><dd>At this time, the def file only affects Visual C++ applications.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to link the def file to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">SOURCES</td><td>One or more <code></code>.def files. <code></code>.def files are searched for in <code></code>.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Link the WorkspaceWhiz target against WorkspaceWhiz.def.</span></div>
<div class="line"><span class="preprocessor">C.DefFile WorkspaceWhiz : WorkspaceWhiz.def ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_Defines"></a>
rule C.Defines TARGET : DEFINES</h1>
<p><a name="rule_%43_%44efines"></a></p>
<p>For the given project <code>TARGET</code>, assign the <code>DEFINES</code> to the appropriate configuration and platform.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to assign the <code>DEFINES</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. If <code>TARGET</code> is <code>*</code>, the defines are made available globally. </td></tr>
    <tr><td class="paramname">DEFINES</td><td>The list of defines to apply.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Make #defines available for ABC and DEF=5 in someproject for all</span></div>
<div class="line"><span class="preprocessor"># configurations and all platforms.</span></div>
<div class="line">C.Defines someproject : ABC DEF=5 ;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># For the win32 platform, add a WIN32 define globally.</span></div>
<div class="line">C.Defines * : WIN32 : : win32 ;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Quote a #define, keeping the quotes for compilation:</span></div>
<div class="line"><span class="preprocessor">C.Defines luacom : LUA5 &quot;LUACOM_DLL=\\\&quot;luacom.dll\\\&quot;&quot; ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_ExcludeFromBuild"></a>
rule C.ExcludeFromBuild TARGET : SOURCES</h1>
<p><a name="rule_%43_%45xclude%46rom%42uild"></a></p>
<p>For the given project <code>TARGET</code>, exclude the <code>SOURCES</code> from the build. If using <b>JamToWorkspace</b> for project generation, sources must be excluded and not simply removed from the list. Otherwise, they don't all show in the generated projects.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to exclude the <code>SOURCES</code> from. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">SOURCES</td><td>The list of defines to exclude.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> $(PLATFORM) != xbox</div>
<div class="line">{</div>
<div class="line">    C.ExcludeFromBuild myproject : $(XBOX_SRCS) ;</div>
<div class="line">}</div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_Flags"></a>
rule C.Flags TYPE : TARGET : FLAGS</h1>
<p><a name="rule_%43_%46lags"></a></p>
<p>For the given project <code>TARGET</code>, assign the <code>FLAGS</code> to the appropriate configuration and platform. <code>TYPE</code> can be any known source compilation type, such as <code>CC</code> for C-style files, <code>C++</code> for C++-style files, and on certain compilers, <code>M</code> for Objective C files, or <code>MM</code> for Objective C++ files.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TYPE</td><td>A source compilation type added through "rule_C_AddBuildExtensions" "C.AddBuildExtensions". </td></tr>
    <tr><td class="paramname">TARGET</td><td>The target to assign the <code>FLAGS</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. If <code>TARGET</code> is <code>*</code>, the flags are made available globally. </td></tr>
    <tr><td class="paramname">FLAGS</td><td>The list of flags to apply.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">C.Flags CC  : * : -g -O0 -arch i386 : debug : macosx32 ;</div>
<div class="line">C.Flags C++ : * : -g -O0 -arch i386 : debug : macosx32 ;</div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_ForceInclude"></a>
rule C.ForceInclude TARGET : INCLUDES</h1>
<p><a name="rule_%43_%46orce%49nclude"></a></p>
<p>For the given project <code>TARGET</code>, assign the <code>INCLUDES</code> to the appropriate configuration and platform, causing that project's compilation to force the inclusion of the header before anything else.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to assign the <code>INCLUDES</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. If <code>TARGET</code> is <code>*</code>, the defines are made available globally. </td></tr>
    <tr><td class="paramname">INCLUDES</td><td>The list of header files to force include.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Automatically #include myheader.h for all source files listed in myproject.</span></div>
<div class="line"><span class="preprocessor">C.ForceInclude myproject : myheader.h ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_GetLinkTargets"></a>
rule C.GetLinkTargets TARGET : TOOLCHAIN_SPEC</h1>
<p><a name="rule_%43_%47et%4cink%54argets"></a></p>
<p>The <a class="el" href="module_c.html#rule_C_Application">rule C.Application TARGET : SOURCES [ : OPTIONS ]</a> and <a class="el" href="module_c.html#rule_C_Library">rule C.Library TARGET : SOURCES [ : OPTIONS ]</a> rules return the target name of the executable or library being built. The properly gristed target name is unique within the dependency graph and takes into account the currently active toolchain.</p>
<p>When it is not possible to save off the result when calling the <code>C.Application</code> or <code>C.Library</code> rules, the <code>C.GetLinkTargets</code> rule can retrieve the properly gristed target later.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to retrieve the link targets from. </td></tr>
    <tr><td class="paramname">TOOLCHAIN_SPEC</td><td>A tool specification such as "win32 debug" (without the quotes) or "$(PLATFORM) $(CONFIG) spu" (without the quotes). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the list of link targets, sometimes more than one, that will be built by the Jam. The target list may be passed to another rule like <a class="el" href="module_c.html#rule_C_LinkLibraries">rule C.LinkLibraries TARGET : LIBRARIES [ : OPTIONS ]</a>.</dd></dl>
<div class="fragment"><div class="line">C.Toolchain ps3 debug spu ;</div>
<div class="line">local sputhing_library = [ C.Library sputhing : sputhing.c ] ;</div>
<div class="line"></div>
<div class="line">C.Toolchain ps3 debug ppu ;</div>
<div class="line"></div>
<div class="line">local also_sputhing_library = [ C.GetLinkTargets sputhing : ps3 debug spu ] ;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># &lt;fakeps3!release!spu:sputhing&gt;sputhing.lib</span></div>
<div class="line">Echo sputhing_library - $(sputhing_library) ;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># &lt;fakeps3!release!spu:sputhing&gt;sputhing.lib</span></div>
<div class="line">Echo also_sputhing_library - $(also_sputhing_library) ;</div>
<div class="line"></div>
<div class="line">C.LinkLibraries pputhing : $(sputhing_library) ;</div>
<div class="line">C.Application pputhing : pputhing.c ;</div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_IncludeDirectories"></a>
rule C.IncludeDirectories TARGET : INCLUDEPATHS [ : OPTIONS ]</h1>
<p><a name="rule_%43_%49nclude%44irectories"></a></p>
<p>For the given project <code>TARGET</code>, assign the <code>INCLUDEPATHS</code> to the appropriate configuration and platform.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to assign the <code>INCLUDEPATHS</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. If <code>TARGET</code> is <code>*</code>, the defines are made available globally. </td></tr>
    <tr><td class="paramname">INCLUDEPATHS</td><td>The list of include paths to apply. </td></tr>
    <tr><td class="paramname">OPTIONS</td><td>If <code>public</code> is specified, the paths specified by <code>INCLUDEPATHS</code> are made available to a project using <code>C.Inherits</code>.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Add $(Code)/Shared as an include path to myproject.</span></div>
<div class="line">C.IncludeDirectories myproject : $(Code)/Shared ;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># For the win32 platform, add the MFC include path.</span></div>
<div class="line">C.IncludeDirectories myproject : <span class="stringliteral">&quot;$(MSVCNT)/atlmfc/include&quot;</span> i;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Add $(Code)/Shared to myproject and make it available to C.Inherits users.</span></div>
<div class="line"><span class="preprocessor">C.IncludeDirectories myproject : $(Code)/Shared : public ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_Inherits"></a>
rule C.Inherits TARGET : INHERITS_TARGETS [ : OPTIONS ]</h1>
<p><a name="rule_%43_%49nherits"></a></p>
<p>Inherits the settings from <code>INHERITS_TARGETS</code> and apply them to <code>TARGET</code>.</p>
<ul>
<li>
All include directories made public via <code>C.IncludeDirectories</code> are inherited. If <code>OPTIONS</code> contains <code>public</code>, the include directories are made available for any <code>C.Inherits</code> utilizing this <code>TARGET</code> as an <code>INHERITS_TARGET</code>. </li>
<li>
All libraries made public via <code>C.LinkPrebuiltLibraries</code> are inherited and passed up the <code>C.Inherits</code> chain regardless of <code>OPTIONS</code> containing <code>public</code>. </li>
<li>
All libraries made public via <code>C.LinkLibraries</code> are inherited and passed up the <code>C.Inherits</code> chain regardless of <code>OPTIONS</code> containing <code>public</code>. </li>
</ul>
<p>If one of the targets specified in <code>INHERITS_TARGETS</code> has no public entries, then an error is generated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to inherit settings from <code>INHERITS_TARGETS</code> into. </td></tr>
    <tr><td class="paramname">INHERITS_TARGETS</td><td>The list of targets to inherit public settings from. </td></tr>
    <tr><td class="paramname">OPTIONS</td><td>May be empty or may contain <code>public</code>. Behavior for <code>public</code> is described above.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">C.LinkPrebuiltLibraries Misc : advapi32 shell32 user32 : public ;</div>
<div class="line">C.Inherits MiniApp : Misc ;</div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_Library"></a>
rule C.Library TARGET : SOURCES [ : OPTIONS ]</h1>
<p><a name="rule_%43_%4cibrary"></a></p>
<p>Compiles <code>SOURCES</code> and archives them into a library called <code>TARGET</code>. Filenames with an <code>.obj</code> or <code>.res</code> are passed straight through to the linker. Any file excluded from the build via <a class="el" href="module_c.html#rule_C_ExcludeFromBuild">rule C.ExcludeFromBuild TARGET : SOURCES</a> is ignored.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The targets to archive <code>SOURCES</code> into. The target name is given without extension; a platform specific extension will be generated. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">SOURCES</td><td>The list of <code>.cpp</code>, <code>.cxx</code>, and <code>.c</code> to link into the application. Object and compiled Windows resource files may also be passed with this list. </td></tr>
    <tr><td class="paramname">OPTIONS</td><td>(optional) The following options are available.</td></tr>
  </table>
  </dd>
</dl>
<p> <blockquote>  </p><ul>
<li>
<code>shared</code> - Instead of building a static library (the default), a shared library (DLL) is built. </li>
</ul>
<p> </blockquote> </p>
<p> <blockquote>  If <code>shared</code> is specified for <code>OPTIONS</code>, the following additional options are available:</p>
<ul>
<li>
<code>console</code> (default) - Builds a console application. For Visual C++, the DLL is linked with <code>/SUBSYSTEM:CONSOLE</code>. </li>
<li>
<code>nodefaults</code> - Avoid adding /SUBSYSTEM to the link flags. </li>
<li>
<code>noexportlib</code> - Don't write out an export library. </li>
<li>
<code>nomanifest</code> - Don't embed a manifest. </li>
<li>
<code>regserver</code> - On Windows, <b>regsvr32</b> is run during the build to automatically register the DLL with the system. When cleaning, <b>regsvr32 /u </b>is run. </li>
<li>
<code>windows</code> - Forces a GUI application. For Visual C++, the DLL is linked with <code>/SUBSYSTEM:WINDOWS</code>. </li>
</ul>
<p> </blockquote> </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the list of link targets, sometimes more than one, that will be built by the Jam. The target list may be passed to another rule like <a class="el" href="module_c.html#rule_C_LinkLibraries">rule C.LinkLibraries TARGET : LIBRARIES [ : OPTIONS ]</a>.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Build a static library called mystaticlibrary from the sources</span></div>
<div class="line"><span class="preprocessor"># file1.c and file2.cpp.</span></div>
<div class="line">C.Library mystaticlibrary : file1.c file2.cpp ;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Build a shared library called mystaticlibrary from the sources</span></div>
<div class="line"><span class="preprocessor"># file3.c and file4.cpp.</span></div>
<div class="line"><span class="preprocessor">C.Library mysharedlibrary : file3.c file4.cpp : shared ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_LinkDirectories"></a>
rule C.LinkDirectories TARGET : DIRECTORIES</h1>
<p><a name="rule_%43_%4cink%44irectories"></a></p>
<p>For the given project <code>TARGET</code>, assign the link <code>DIRECTORIES</code> to the appropriate configuration and platform.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to assign the link <code>DIRECTORIES</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. If <code>TARGET</code> is <code>*</code>, the defines are made available globally. </td></tr>
    <tr><td class="paramname">DIRECTORIES</td><td>The list of link directories to apply. Absolute paths are used directly. Relative paths are local to <code></code>. That is, they are relative to the subdirectory specified via <a class="el" href="jambase_rules.html#rule_SubDir">SubDir</a>.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Add c:/some/directory to myproject for all configurations and</span></div>
<div class="line"><span class="preprocessor"># all platforms.</span></div>
<div class="line">C.LinkDirectories myproject : c:/some/directory ;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># For the win32 platform, add the MFC link directory.</span></div>
<div class="line">C.LinkDirectories myproject : <span class="stringliteral">&quot;$(MSVCNT)/atlmfc/lib&quot;</span> : : win32 ;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Relative path:</span></div>
<div class="line"><span class="preprocessor">C.LinkDirectories myproject : ../lib ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_LinkFlags"></a>
rule C.LinkFlags TARGET : FLAGS</h1>
<p><a name="rule_%43_%4cink%46lags"></a></p>
<p>For the given project <code>TARGET</code>, assign the link <code>FLAGS</code> to the appropriate configuration and platform.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to assign the link <code>FLAGS</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. If <code>TARGET</code> is <code>*</code>, the flags are made available globally. </td></tr>
    <tr><td class="paramname">FLAGS</td><td>The list of link flags to apply.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">C.LinkFlags ManagedLuaPlus : /DELAYLOAD:LuaPlus_1100.debug.dll : debug ;</div>
<div class="line">C.LinkFlags ManagedLuaPlus : /DELAYLOAD:LuaPlus_1100.dll : release ;</div>
<div class="line">C.LinkFlags ManagedLuaPlus : /KEYFILE:\<span class="stringliteral">&quot;$(SEARCH_SOURCE)/ManagedLuaPlus.snk\&quot; ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_LinkFrameworks"></a>
rule C.LinkFrameworks TARGET : FRAMEWORKS</h1>
<p><a name="rule_%43_%4cink%46rameworks"></a></p>
<dl class="section note"><dt>Note</dt><dd>This rule is only valid on Mac OS X.</dd></dl>
<p>Links <code>TARGET</code> against the <code>FRAMEWORKS</code> specified. No dependencies are set, so changes to the framework will not be relinked.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to link <code>LIBRARIES</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">FRAMEWORKS</td><td>The list of frameworks to link. The frameworks are specified without an extension.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">C.LinkFrameworks MyApp : CoreFoundation ;</div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_LinkLibraries"></a>
rule C.LinkLibraries TARGET : LIBRARIES [ : OPTIONS ]</h1>
<p><a name="rule_%43_%4cink%4cibraries"></a></p>
<p>Makes <code>TARGET</code> depend on Jam generated <code>LIBRARIES</code> and includes them during linking.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to link <code>LIBRARIES</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">LIBRARIES</td><td>The list of libraries to apply. These libraries are those generated from the <a class="el" href="module_c.html#rule_C_Library">rule C.Library TARGET : SOURCES [ : OPTIONS ]</a> rule. They do not include prebuilt libraries. To link prebuilt libraries, use the <a class="el" href="module_c.html#rule_C_LinkPrebuiltLibraries">rule C.LinkPrebuiltLibraries TARGET : LIBRARIES [ : OPTIONS ]</a> rule. </td></tr>
    <tr><td class="paramname">OPTIONS</td><td>If <code>public</code> is specified, the libraries specified by <code>LIBRARIES</code> are made available to a project using <code>C.Inherits</code>.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">C.LinkLibraries Misc : zlib : public ;</div>
<div class="line">C.LinkLibraries MiniApp : Application LuaPlusStatic Misc ;</div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_LinkPrebuiltLibraries"></a>
rule C.LinkPrebuiltLibraries TARGET : LIBRARIES [ : OPTIONS ]</h1>
<p><a name="rule_%43_%4cink%50rebuilt%4cibraries"></a></p>
<p>Makes <code>TARGET</code> depend on <code>LIBRARIES</code> and includes them during linking.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to link <code>LIBRARIES</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">LIBRARIES</td><td>The list of libraries to apply. These libraries are prebuilt libraries, such as kernel32.lib, and are specified without an extension. For those libraries generated from the <a class="el" href="module_c.html#rule_C_Library">rule C.Library TARGET : SOURCES [ : OPTIONS ]</a> rule, use the <a class="el" href="module_c.html#rule_C_LinkLibraries">rule C.LinkLibraries TARGET : LIBRARIES [ : OPTIONS ]</a> rule. </td></tr>
    <tr><td class="paramname">OPTIONS</td><td>If <code>public</code> is specified, the libraries specified by <code>LIBRARIES</code> are made available to a project using <code>C.Inherits</code>.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">C.LinkPrebuiltLibraries MiniApp : advapi32 gdi32 ole32 shell32 user32 ;</div>
<div class="line"></div>
<div class="line">C.LinkPrebuiltLibraries Misc : advapi32 shell32 user32 : public ;</div>
<div class="line">C.Inherits MiniApp : Misc ;</div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_Lump"></a>
rule C.Lump PARENT : SOURCES_VARIABLE_NAME : LUMP_NAME [ : PCH_FILENAMES : EXTRA_INCLUDE_PATHS ]</h1>
<p><a name="rule_%43_%4cump"></a></p>
<p>Generates a small file containing an <code>#include</code> amalgamation of files passed into the rule.</p>
<p>The name of the generated lump file is <code>$(LOCATE_SOURCE)/!$(LUMP_NAME)!.$(LUMP_NAME:S)</code>. If <code>LUMP_NAME</code> does not have an extension, then the extension from $(PCH_FILENAMES[1]:S) is used. If that doesn't exist, then the default is <code>.cpp</code>.</p>
<p>The lump file has the following contents:</p>
<ol>
<li>
If a precompiled header is specified through <code>PCH_FILENAMES</code>, a <code>#include "\$(PCH_FILENAMES[1])"</code> line is added to the lump file. </li>
<li>
For each C-style source specified in <code>SOURCES_VARIABLE_NAME</code> that is not excluded from the build via <a class="el" href="module_c.html#rule_C_ExcludeFromBuild">rule C.ExcludeFromBuild TARGET : SOURCES</a>, a <code>#include "filename"</code> is added to the lump file. </li>
</ol>
<p>Lumping may be turned off globally by setting the global variable <code>LUMP</code> to be <code>0</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">PARENT</td><td>The parent target to which the lump file belongs. <code>PARENT</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">SOURCES_VARIABLE_NAME</td><td>The variable name listing the source files to be added to the lump. This is not an expanded version through <code></code> but rather, it is the actual name of the variable, <code>SRCS</code>. On return from the <code>Lump</code> rule, <code>SOURCES_VARIABLE_NAME</code> will be populated with the gristed name of the lump file. It will not contain the original file list anymore. It may include the precompiled header source filename $(PCH_FILENAMES[1]) if $(PCH_FILENAMES[3]) is set. </td></tr>
    <tr><td class="paramname">PCH_FILENAMES</td><td>(optional) <code>PCH_FILENAMES</code>[1] is the filename of the precompiled header source file (generally, the .cpp). <code>PCH_FILENAMES</code>[2] is the filename of the precompiled header's header file. If <code>PCH_FILENAMES</code>[2] is not specified, then <code>$(PCH_FILENAMES[1]:S=.h)</code> is used. Finally, if <code>PCH_FILENAMES</code>[3] is set to <code>1</code>, the precompiled header's source file (set through <code>PCH_FILENAMES</code>[1]) is added to the <code>SOURCES_VARIABLE_NAME</code> list. </td></tr>
    <tr><td class="paramname">EXTRA_INCLUDE_PATHS</td><td>If additional include paths are needed for this lump file, specify them here.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># For the Misc target, use the contents of SRCS to build a lump called</span></div>
<div class="line"><span class="preprocessor"># MiscLump.cpp.  In addition, this lump should use the precompiled header file</span></div>
<div class="line"><span class="preprocessor"># Misc_InternalPch.h, filtering any references to Misc_InternalPch.cpp out of</span></div>
<div class="line"><span class="preprocessor"># its file lists.  Since 1 is specified as the third string item of the</span></div>
<div class="line"><span class="preprocessor"># PCH_FILENAMES parameter, Misc_InternalPch.cpp is added to the SRCS list.</span></div>
<div class="line">C.Lump Misc : SRCS : MiscLump.cpp : Misc_InternalPch.cpp Misc_InternalPch.h 1 ;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># A separate lump in the Misc target is made for PNG_SRCS.  It doesn&#39;t have</span></div>
<div class="line"><span class="preprocessor"># a precompiled header, and it will be generated as a .c file.</span></div>
<div class="line"><span class="preprocessor">C.Lump Misc : PNG_SRCS : PNGLump.c ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_NoPrecompiledHeader"></a>
rule C.NoPrecompiledHeader TARGET : FILES</h1>
<p><a name="rule_%43_%4eo%50recompiled%48eader"></a></p>
<p>Creates a precompiled header and uses it on the specified <code>FILES</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to which the precompiled header belongs. This is needed to properly grist the precompiled header filenames. If not specified, <code>TARGET</code> defaults to the active target set via <a class="el" href="jambase_rules.html#rule_ActiveProject">ActiveProject</a>. </td></tr>
    <tr><td class="paramname">FILES</td><td>The list of files to turn off precompiled header support for.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">PCH_SRCS =</div>
<div class="line"><span class="preprocessor">    # Some files...</span></div>
<div class="line">    file_no_pch.c</div>
<div class="line"><span class="preprocessor">    # More files...</span></div>
<div class="line">;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># For all sources in PCH_SRCS in the Misc project, the precompiled header</span></div>
<div class="line"><span class="preprocessor"># will be set to Misc_InternalPch.h.  The precompiled header file is created</span></div>
<div class="line"><span class="preprocessor"># from Misc_InternalPch.cpp.</span></div>
<div class="line">C.PrecompiledHeader Misc : Misc_InternalPch : $(PCH_SRCS) ;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Turn off the precompiled header for one of the files that had PCH support</span></div>
<div class="line"><span class="preprocessor"># added.</span></div>
<div class="line"><span class="preprocessor">C.NoPrecompiledHeader Misc : file_no_pch.c ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_ObjectCFlags"></a>
rule C.ObjectCFlags TARGET : SOURCES : FLAGS</h1>
<p><a name="rule_%43_%4fbject%43%46lags"></a></p>
<p>For the given <code>SOURCES</code> matching <code>*.c</code>, assign the <code>FLAGS</code> to the appropriate configuration and platform.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target containing the <code>SOURCES</code>. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">SOURCES</td><td>The list of sources to assign the <code>FLAGS</code> to. </td></tr>
    <tr><td class="paramname">FLAGS</td><td>The list of flags to apply.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Assign /clr:oldsyntax to all C files in managedapp across all</span></div>
<div class="line"><span class="preprocessor"># configurations and platforms.</span></div>
<div class="line"><span class="preprocessor">C.ObjectCFlags managedapp : somefile.c : /clr:oldsyntax ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_ObjectCppFlags"></a>
rule C.ObjectC++Flags TARGET : SOURCES : FLAGS</h1>
<p><a name="rule_%43_%4fbject%43pp%46lags"></a></p>
<p>For the given <code>SOURCES</code> matching *.cpp or *.cxx, assign the <code>FLAGS</code> to the appropriate configuration and platform.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target containing the <code>SOURCES</code>. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">SOURCES</td><td>The list of sources to assign the <code>FLAGS</code> to. </td></tr>
    <tr><td class="paramname">FLAGS</td><td>The list of flags to apply.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Assign /clr:oldsyntax to all C files in managedapp across all</span></div>
<div class="line"><span class="preprocessor"># configurations and platforms.</span></div>
<div class="line"><span class="preprocessor">C.ObjectC++Flags managedapp : somefile.cpp : /clr:oldsyntax ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_ObjectDefines"></a>
rule C.ObjectDefines TARGET : SOURCES : DEFINES</h1>
<p><a name="rule_%43_%4fbject%44efines"></a></p>
<p>For the given <code>SOURCES</code>, assign the <code>DEFINES</code> to the appropriate configuration and platform.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target containing the <code>SOURCES</code>. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">SOURCES</td><td>The list of sources to assign the <code>DEFINES</code> to. </td></tr>
    <tr><td class="paramname">DEFINES</td><td>The list of defines to apply.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Make #defines available for ABC and DEF=5 in someproject&#39;s justafile.cpp</span></div>
<div class="line"><span class="preprocessor"># for all configurations and all platforms.</span></div>
<div class="line"><span class="preprocessor">C.ObjectDefines someproject : justafile.cpp : ABC DEF=5 ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_ObjectForceInclude"></a>
rule C.ObjectForceInclude TARGET : SOURCES : INCLUDES</h1>
<p><a name="rule_%43_%4fbject%46orce%49nclude"></a></p>
<p>For the given <code>SOURCES</code>, assign the <code>INCLUDES</code> to the appropriate configuration and platform, causing that project's compilation to force the inclusion of the header before anything else.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target containing the <code>SOURCES</code>. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">SOURCES</td><td>The list of sources to assign the force include flag to. </td></tr>
    <tr><td class="paramname">INCLUDES</td><td>The list of header files to force include.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Automatically #include ../common/print.h in libA.cpp.</span></div>
<div class="line"><span class="preprocessor">C.ObjectForceInclude libA : libA.cpp : ../common/print.h ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_ObjectIncludeDirectories"></a>
rule C.ObjectIncludeDirectories TARGET : SOURCE : INCLUDEPATHS</h1>
<p><a name="rule_%43_%4fbject%49nclude%44irectories"></a></p>
<p>For the given <code>SOURCES</code>, assign the <code>INCLUDEPATHS</code> to the appropriate configuration and platform.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target containing the <code>SOURCES</code>. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">SOURCES</td><td>The list of sources to assign the include paths to. </td></tr>
    <tr><td class="paramname">INCLUDEPATHS</td><td>The list of include paths to apply.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Add $(Code)/Shared to myproject&#39;s somefile.cpp for all configurations</span></div>
<div class="line"><span class="preprocessor"># and all platforms.</span></div>
<div class="line"><span class="preprocessor">C.ObjectIncludeDirectories myproject : somefile.cpp : $(Code)/Shared ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_OutputName"></a>
rule C.OutputName TARGET : NAME</h1>
<p><a name="rule_%43_%4futput%4eame"></a></p>
<p>By default, the name of a generated executable or library is determined by the name of the <code>TARGET</code>. <code>OutputName</code> is used to override the name of the executable or library.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to affect the output name change on. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">NAME</td><td>The new name of the output target.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Change the name of the LuaPlusShared target to LuaPlus_1100.  When</span></div>
<div class="line"><span class="preprocessor"># the shared library is created, the name on disk will be LuaPlus_1100.dll.</span></div>
<div class="line"><span class="preprocessor">C.OutputName LuaPlusShared : LuaPlus_1100 ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_OutputPath"></a>
rule C.OutputPath TARGET : OUTPUTPATH</h1>
<p><a name="rule_%43_%4futput%50ath"></a></p>
<p>By default, the output location of a generated executable or library is at <code>LOCATE_TARGET</code>. <code>OutputPath</code> is used to override the output location of the executable or library.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to affect the output path change on. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">OUTPUTPATH</td><td>The new output location of the generated target.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Change the name of the LuaPlusShared target to LuaPlus_1100.  When</span></div>
<div class="line"><span class="preprocessor"># the shared library is created, the name on disk will be LuaPlus_1100.dll.</span></div>
<div class="line"><span class="preprocessor">#</span></div>
<div class="line"><span class="preprocessor"># Also change the output location of the generated DLL.</span></div>
<div class="line">C.OutputName LuaPlusShared : LuaPlus_1100 ;</div>
<div class="line">C.OutputPath LuaPlusShared : <span class="stringliteral">&quot;c:/Program Files/LuaPlus&quot;</span> ;</div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_OutputPostfix"></a>
rule C.OutputPostfix TARGET : POSTFIX</h1>
<p><a name="rule_%43_%4futput%50ostfix"></a></p>
<p>The output postfix is appended to the end of the generated target name. By default, the output postfix is .$(CONFIG). This means the resultant filename is $(OUTPUTNAME).$(CONFIG).$(EXT).</p>
<p>If there is no assigned output postfix for <code>TARGET</code>, then the global target <code>*</code> is checked for a postfix.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to affect the output path change on. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">POSTFIX</td><td>The new output postfix of the generated target.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># Change the name of the LuaPlusShared target to LuaPlus_1100.  When</span></div>
<div class="line"><span class="preprocessor"># the shared library is created, the name on disk will be LuaPlus_1100.dll.</span></div>
<div class="line"><span class="preprocessor">#</span></div>
<div class="line"><span class="preprocessor"># Also change the output location of the generated DLL.</span></div>
<div class="line"><span class="preprocessor">#</span></div>
<div class="line"><span class="preprocessor"># Generate the postfix as follows:</span></div>
<div class="line"><span class="preprocessor">#</span></div>
<div class="line"><span class="preprocessor">#   * For debug:   LuaPlus_1100.debug.dll</span></div>
<div class="line"><span class="preprocessor">#   * For release: LuaPlus_1100.dll</span></div>
<div class="line">C.OutputName LuaPlusShared : LuaPlus_1100 ;</div>
<div class="line">C.OutputPath LuaPlusShared : <span class="stringliteral">&quot;c:/Program Files/LuaPlus&quot;</span> ;</div>
<div class="line">C.OutputPostfix LuaPlusShared : .debug : debug ;</div>
<div class="line">C.OutputPostfix LuaPlusShared : : release ;</div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_OutputPostfixClear"></a>
rule C.OutputPostfixClear TARGET</h1>
<p><a name="rule_%43_%4futput%50ostfix%43lear"></a></p>
<p>Clear the output postfix.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to affect the output path change on. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">C.OutputPostfix LuaPlusShared : .debug : debug ;</div>
<div class="line">C.OutputPostfixClear LuaPlusShared : debug ;</div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_OutputSuffix"></a>
rule C.OutputSuffix TARGET : SUFFIX</h1>
<p><a name="rule_%43_%4futput%53uffix"></a></p>
<p>The output suffix is the file extension of the generated target. By default, the output suffix is appropriate for an executable or library.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to affect the output suffix change on. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td class="paramname">SUFFIX</td><td>The new output suffix of the generated target.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># The final name will be SomePlugin.appplugin.</span></div>
<div class="line"><span class="preprocessor">C.OutputSuffix SomePlugin : .appplugin ;</span></div>
</div><!-- fragment --><hr/>
 <h1><a class="anchor" id="rule_C_PrecompiledHeader"></a>
rule C.PrecompiledHeader TARGET : NAME : FILES</h1>
<p><a name="rule_%43_%50recompiled%48eader"></a></p>
<p>Creates a precompiled header based around <code>NAME</code> and uses it on the specified <code>FILES</code>.</p>
<p>Under Visual C++, <code>NAME.cpp</code> is expected to exist as part of the build. If <code>NAME.cpp</code> is not provided by the user, JamPlus will create an empty one automatically tied to the <code>.cpp</code> extension. If another extension is desired, the first parameter to <code>NAME</code> should be the alternate filename.</p>
<p>Under GCC-based compilers, the precompiled header name is automatic based on the flags and file extensions going into the build.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">TARGET</td><td>The target to which the precompiled header belongs. This is needed to properly grist the precompiled header filenames. </td></tr>
    <tr><td class="paramname">NAME</td><td>This parameter is made up of either one or two filenames. The first filename is the <code>.cpp</code> file used to create the precompiled header. If it does not contain an extension, <code>.cpp</code> is added. If the second filename is not specified, the default is to use the first filename with its suffix modified to <code>.h</code>. If the second filename is specified, it will represent the header file used for the precompilation. </td></tr>
    <tr><td class="paramname">FILES</td><td>The list of files to apply the precompiled header to.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="preprocessor"># For all sources in PCH_SRCS in the Misc project, the precompiled header</span></div>
<div class="line"><span class="preprocessor"># will be set to Misc_InternalPch.h.  The precompiled header file is created</span></div>
<div class="line"><span class="preprocessor"># from Misc_InternalPch.cpp.</span></div>
<div class="line">C.PrecompiledHeader Misc : Misc_InternalPch : $(PCH_SRCS) ;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># The precompiled header stdafx.h is applied to SRCS.  stdafx.cpp is used</span></div>
<div class="line"><span class="preprocessor"># to create the precompiled header.</span></div>
<div class="line"><span class="preprocessor">C.PrecompiledHeader SimpleMFC : stdafx.cpp stdafx.h : $(SRCS) ;</span></div>
</div><!-- fragment --><hr/>
 </div></div><!-- contents -->
</body>
</html>
