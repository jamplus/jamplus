<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>JamPlus manual: Changelog</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="contents">
<h1><a class="anchor" name="changelog">Changelog </a></h1><h2><a class="anchor" name="version0_4">
Version 0.4</a></h2>
<h3>New features for 0.4:</h3>
<p>
<ul>
<li>C/C++ build rules have been separated into their own <a class="el" href="module_c.html">Jam module called 'c'</a>. This module is currently automatically loaded on any Jam invocation. Most rules are now namespaced like so: <a class="el" href="module_c.html#rule_C_Application">C.Application</a> instead of <code>Application</code>. To use the old names, <a class="el" href="jambase_rules.html#rule_IncludeModule">IncludeModule</a> <code>c-deprecated</code>.</li><li>The Jam binaries have been moved from the jamplus/bin/ directory to jamplus/bin/$(OS)$(OSPLAT). On Windows, this ends up being jamplus/bin/ntx86/. On Mac OS X, the directory is jamplus/bin/macosxx86/. All associated scripts have been moved to this directory, as has the Lua directory structure. This new structure will allow for multiple platform binaries to exist side by side. See <a class="el" href="building.html#building_overview">Building Overview</a> for more information.</li><li>The Mac OS X build is largely functional, including all support for Xcode workspace generation, Lua scripts, and otherwise. Additionally, iPhone and iPhone Simulator platforms can be built, but they can not be debugged (yet).</li><li>Visual C++ 6 compiler support works much better, and Visual C++ 6 .dsw and .dsp files are generated.</li><li>Visual Studio 2010 support has been added by Philipp Teschner. It is currently turned off as an active bootstrapping build type, as Visual Studio 2010 has not been released yet.</li></ul>
<p>
<h3>Bootstrapping/Building:</h3>
<p>
<ul>
<li>Added a bootstrapping .xcodeproj to debug Mac OS X Jam issues in. This project is currently only set up for Debug mode. The Release mode does not work.</li><li>If the environment variable LUA_BIN is set, the appropriate Lua files are copied to the appropriate platform bin directory. See <a class="el" href="building.html#building_overview">Building Overview</a> for more information.</li></ul>
<p>
<h4>Minor stuff:</h4>
<p>
<ul>
<li>Removed the Visual Studio 2005 solution and project files, src/jam.VS2005.sln and src/jam.VS2005.vcproj.</li><li>Properly generate the <code>Jambase-j.c</code> from <code>Jambase-j</code> by building <b>mkjambase</b> during the bootstrapping run.</li><li>Build intermediate files to an intermediate folder instead of littering the extra files in the src/ directory.</li></ul>
<p>
<h3>Documentation:</h3>
<p>
<ul>
<li>Large number of documentation updates, including the further documenting of the Jam modules.</li></ul>
<p>
<h3>Jam Executable:</h3>
<p>
<ul>
<li>Multipass support past 2 passes was broken. It is fixed now.</li><li>Add a PRIORITY parameter to <a class="el" href="builtin_rules.html#rule_QueueJamFile">QueueJamFile</a>. By default, queued Jamfiles are processed in the order they are queued. There may be cases where the queued order does not allow for proper processing of the Jamfiles. In the event the Jamfile order matters for the upcoming pass, <code>PRIORITY</code> may be applied.</li><li>Add a new rule: <a class="el" href="builtin_rules.html#rule_ScanContents">ScanContents</a>. When <a class="el" href="builtin_rules.html#rule_ScanContents">ScanContents</a> is specified for a source target (even a generated one) and if the timestamp differs, the contents of the source target are compared against the last run. If they differ, the build proceeds as normal. If they are the same, no further building is necessary.</li><li>Added support for misplaced semicolon and colon detection in the parser, #ifdef'ed as <code>OPT_FIND_BAD_SEMICOLON_USAGE_EXT</code>. If a semicolon or colon is the first or last character of an identifier, it may be missing its surrounding whitespace, and a parser error is reported. You may need to quote strings that didn't need to be quoted before.</li><li>Add a new built-in rule, <a class="el" href="builtin_rules.html#rule_Shell">Shell</a>, used for executing shell commands and retrieving their output.</li><li>Support for new <a class="el" href="jamtoworkspace.html#jamtoworkspace_usage">Jam command line options</a> to build the workspace, convert folders to a Jamfile, and convert the contents of a .vcproj to a Jamfile. These command line options replace the old calls to <b>JamToWorkspace</b> and other helper scripts.</li><li>Simplify the -s command line flag (which is still available) by parsing KEY=VALUE pairs off the command line. That is, 'jam -sCONFIG=debug all' and 'jam CONFIG=debug all' mean the same thing. See <a class="el" href="usage.html">Usage</a> for more information. (Made available through <code>#define OPT_KEY_EQUALS_VALUE_DEFINES_EXT</code>.)</li><li>Allow for the failure of an <code>actions lua</code> block at runtime.</li><li>Added a way of accessing the targets specified on the command line from within Jam through the global variable <code>JAM_COMMAND_LINE_TARGETS</code>. One method of using this variable is to filter sections of the Jam script to save build time. (Made available through <code>#define OPT_SET_JAMCOMMANDLINETARGETS_EXT</code>.)</li><li>If an action is empty, don't put any of the whitespace through. It dies on Unix shells.</li></ul>
<p>
<h4>Technical Details:</h4>
<p>
<ul>
<li>In multipass builds where the <a class="el" href="builtin_rules.html#rule_NoCare">NoCare</a> flag has been applied to a target that is missing, do not attempt to move the missing file's build to the next pass. Properly process it in the current pass.</li><li>Mac OS X has a case preserving, case insensitive file system. Turned on <code>#define DOWNSHIFT_PATHS</code> to compensate for that.</li><li>Fix the Mac OS X directory creation under certain instances in the function <code>file_mkdir()</code>.</li><li>Alter the <code>OPT_UPDATED_CHILD_FIX</code> from <a href="http://maillist.perforce.com/pipermail/jamming/2006-May/002676.html">http://maillist.perforce.com/pipermail/jamming/2006-May/002676.html</a> to handle the case where an child target's includes target has a fate of anything greater than <code>T_FATE_STABLE</code>. This specifically guards against the case where <code>T_FATE_MISSING</code> is applied to one of the children, and it doesn't build in the current Jam execution.</li><li>Turn off <code>OPT_PERCENT_DONE_EXT</code> for now. It provided faulty percentages due to all of the patches that JamPlus employs.</li><li>Registry scanning bug fix from Philipp Teschner. Previous to the fix, <a class="el" href="builtin_rules.html#rule_W32_GETREG">W32_GETREG</a> only worked with <code>HKEY_LOCAL_MACHINE</code>. If you used anything else, it would infinitely loop.</li><li>Undo the <code>OPT_CHILD_UPDATED</code> patch in make.c. It does not work properly with certain combinations of assets, and in truth, I'm not sure what problem it is really trying to solve or even if another patch solves it already.</li><li>Fixed a bug in the glob expansion directory matching: **/ now works.</li><li>Enable Lua actions on Mac OS X. This requires polling for process exits, as on Windows, instead of just calling the C runtime wait() function.</li><li>A minor fix to <code>OPT_BUILTIN_NEEDS_EXT</code> was made for certain conditions when <a class="el" href="builtin_rules.html#rule_Needs">Needs</a> is used with <a class="el" href="builtin_rules.html#rule_MightNotUpdate">MightNotUpdate</a>.</li></ul>
<p>
<h3>Jambase:</h3>
<p>
<ul>
<li>Add InstallNamePath rule. This is currently available only on Mac OS X to provide the -install_name flag to the linker.</li><li>When the list of files in a library archive changes, the archive is populated again from the object files. This solves the bug where removing a file from the list of files in an archive left the removed file in the archive.</li><li>Revamp the assignment of C/C++ extensions. They can now be created through the public rule <a class="el" href="module_c.html#rule_C_AddBuildExtensions">AddBuildExtensions</a>. As part of this change, support for Objective C/C++ files, .m and .mm, and assembly files (.s) files has been added. This support is for GNU only compilers.</li><li>Add -isysroot compiler flags for Mac OS X.</li><li>Fix optimization flags for GCC platforms.</li><li>Add <a class="el" href="module_c.html#rule_C_LinkFrameworks">C.LinkFrameworks</a> rule for linking against frameworks on Mac OS X.</li><li>Add <a class="el" href="module_c.html#rule_C_ForceInclude">C.ForceInclude</a> rule, which forces the inclusion of the listed header files before any other #include lines.</li><li>Add <a class="el" href="module_c.html#rule_C_ObjectForceInclude">C.ObjectForceInclude</a> rule.</li><li>The <a class="el" href="module_c.html#rule_C_Lump">C.Lump</a> rule now accepts all CC and C++ extensions.</li><li>Add new <a class="el" href="module_c.html#rule_C_NoPrecompiledHeader">C.NoPrecompiledHeader</a> rule to turn off precompiled headers for the specified files.</li><li><a class="el" href="module_c.html#rule_C_ObjectIncludeDirectories">C.ObjectIncludeDirectories</a> now roots relative paths against $(SUBDIR).</li><li>The <code>C.ApplicationFromObjects</code> rule was not properly using the <code>C.LinkDebug</code> action for Visual Studio when building the debug configuration. <code>C.SharedLibraryFromObjects</code> was using it fine, however. Thanks to Tim S for finding this bug.</li><li>Add support to <a class="el" href="module_c.html#rule_C_ForceInclude">C.ForceInclude</a> to root a relative include against the current <a class="el" href="jambase_rules.html#rule_SubDir">SubDir</a>.</li><li>Add precompiled header support for GCC.</li><li>Allow specification of a precompiled header whose name and/or path is different than the containing .cpp/.c file. The original rule format continues to work. * Tests: Updated tests/source_and_jamfiles_separate to illustrate the new precompiled header behavior.</li><li>GCC .pch name fix.</li><li>In the <a class="el" href="jambase_rules.html#rule_MakeLocate">MakeLocate</a> rule, root the specified directory against $(SUBDIR).</li><li>Fix the rooting against an empty $(SUBDIR) in the <a class="el" href="module_c.html#rule_C_ForceInclude">C.ForceInclude</a>, <a class="el" href="module_c.html#rule_C_IncludeDirectories">C.IncludeDirectories</a>, <a class="el" href="module_c.html#rule_C_LinkDirectories">C.LinkDirectories</a>, <a class="el" href="module_c.html#rule_C_ObjectIncludeDirectories">C.ObjectIncludeDirectories</a>, and <a class="el" href="module_c.html#rule_C_ObjectForceInclude">C.ObjectForceInclude</a> rules.</li><li>The releaseltcg configuration was not set up for GCC. It still isn't a link time code generation, but optimizations are now applied, whereas they weren't before.</li><li>On platforms supporting a recursive mkdir, only run the mkdir action once. Do not internally handle it recursively.</li><li>Visual Studio 2010 support provided by Philipp Teschner.</li><li>Made the <a class="el" href="jambase_rules.html#rule_SearchSource">SearchSource</a> rule take an optional second parameter, the SEARCH_PATH. If the parameter is not specified, then $(SEARCH_SOURCE) is used.</li><li>Jambase and MFC/Midl modules: Visual C++ 6.0 compilation fixes.</li></ul>
<p>
<h3>Jam Modules:</h3>
<p>
<ul>
<li>CSharp module: On NT, choose vs2008 as the default (still needs discovery like the C++ compiler). Now, on other platforms, choose mono.</li><li>CSharp module: Properly find Mono at /usr/bin.</li><li>CSharp module: Renamed the Mono CSC_COMPILER to gmcs. This is the C# 2.0 compiler for Mono. Mono isn't a compiler; it is a collection of components making up the open source .NET Framework implementation.</li><li>CSharp Jam module: Fix discovery of gmcs. Also allow CSC to be set externally and use that as an override when finding the C# compiler.</li><li>DotNet module: Add windows/Microsoft.NET/Framework/v2.0.50727 to the include directories.</li><li>wxWidgets module: Add a call to RcIncludeDirectories to allow access to the proper wxWidgets resources.</li></ul>
<p>
<ul>
<li>CopyFile module: The CopyFile rule will use the ActiveProject if the PARENT parameter is not specified.</li><li>CopyFile module: The source and destination filenames are now quoted on the copy command line.</li><li>CopyDirectory module: The CopyDirectory rule now accepts an additional argument, RECURSIVE. If RECURSIVE is specified, then a recursive directory copy is performed. If it is not specified, then CopyDirectory merely copies the file contents of the SOURCE_PATH, and directories are ignored.</li><li>Added hardsoftlink module with rules for establishing a HardLink and a SoftLink.</li><li>Jambase and MFC/Midl modules: Visual C++ 6.0 compilation fixes.</li></ul>
<p>
<h3>JamToWorkspace:</h3>
<p>
<ul>
<li>JamToWorkspace now runs on Mac OS X. Visual Studio projects can be output on Mac OS X without issue.</li><li>Additional command line option --jamflags added. Any KEY=VALUE pairs specified on the command line are automatically added to the top of the generated Jambase.jam.</li><li>Xcode support.</li></ul>
<p>
<ul>
<li>JamToWorkspace: Add releaseltcg configuration.</li><li>JamToWorkspace: Properly quote filenames to work on Windows 7 within the .vcproj Build, Rebuild, and Clean command lines.</li><li>JamToWorkspace: Fix the quoting in the .vcproj generation.</li><li>JamToWorkspace: Fix the Visual Studio .sln to be output to the new location. Also output other files there, too.</li><li>JamToWorkspace: ProjectGroups and SourceGroups can be specified anywhere in the file.</li><li>JamToWorkspace: Remove possible grists from sources lists when generating the workspace.</li><li>JamToWorkspace: Fix a crash bug when a project's information isn't available.</li><li>JamToWorkspace: For the Xcode workspace, write out all dependent files into the .xcodeproj. Sort them.</li><li>JamToWorkspace: Add Visual Studio 2010 support. Unfortunately, as of the current VS beta, it is impossible to debug a Makefile pro</li><li>JamToWorkspace: Status update text changed to be more clear as to what is happening.</li><li>JamToWorkspace: Multiplatform .vcproj support.</li><li>JamToWorkspace: Allow --gen=none to build an out of source build directory and not populate it with projects. Make --gen=none be the default.</li><li>JamToWorkspace: Add Visual C++ 6 project generation support.</li><li>JamToWorkspace: Rename the *.projects/ level updateworkspace to updateprojects.</li></ul>
<p>
<h3>Samples:</h3>
<p>
<ul>
<li>Samples: Added samples/macosx/cf, a simple CoreFoundation command line test.</li><li>Tests: Add tests/forceinclude.</li><li>Tests: Add tests/multipass_convert, an example of using the QueueJamFile PRIORITY parameter.</li><li>Tests: Add tests/multipass_nocare, provided by Chris Munn, to illustrate the NoCare Jam executable fix.</li><li>Tests: Add tests/multiplatform, a test involving multiplatform #defines.</li><li>Tests: Add tests/semicolon/ to test OPT_FIND_BAD_SEMICOLON_USAGE_EXT.</li><li>Tests: Add tests/shell.</li></ul>
<p>
<ul>
<li>Tests: Update source_and_jamfiles_separate with an additional file test case.</li><li>Tests: Updated tests/includes/ to test ObjectIncludeDirectories support.</li><li>Tests: Move tests/generatedheader/simple_scancontents/ to tests/scancontents/.</li><li>Tests: Add support for UseCommandLine on the generated header.</li><li>Tests: Add tests/usecommandline from Arseny Kapoulkine.</li><li>Samples: Add samples/macosx/glut demonstration.</li><li>Rename tests/platform to tests/multiplatform.</li><li>Tests: Fix expandtests.jam. It was never updated with the new colon quoting rules.</li><li>tests/lua: Fixes to the quoting and the modules used.</li><li>Add tests/command_line_targets/.</li><li>Tests: Add tests/simple_scancontents.</li></ul>
<p>
<hr>
 <h2><a class="anchor" name="version0_3">
Version 0.3</a></h2>
<h3>New features for 0.3:</h3>
<p>
<ul>
<li>Mac OS X build mostly works, but there is still a lot of work to build in the necessary rules to create a full Carbon or Cocoa app.</li></ul>
<p>
<h3>Bootstrapping/Building:</h3>
<p>
<ul>
<li>jmake.cmd now detects VS2005 or VS2008, so starting vsvars32.bat is not needed.</li><li>Makefile and Makefile.Windows now both include Makefile.Common, so they only define compiler and flags, and Makefile.Common defines what to do.</li><li>jmake.cmd now checks for different versions of MSVC using both registry values and envvars.</li><li>Added clean.cmd, used to clean bootstrapping results.</li><li>Bootstrapped Jam builds as a releaseltcg configuration.</li><li>Force make invocations to specify a platform.</li></ul>
<p>
<h3>Documentation:</h3>
<p>
<ul>
<li>Large number of documentation updates, including the documenting of the Jam modules.</li></ul>
<p>
<h3>Jam Executable:</h3>
<p>
<ul>
<li>Until it can be fixed, turned off a broken optimization when scanning paths. On a no-op build with Noel's test, this saved 1/10 of a second. Unfortunately, there were corner cases that caused the optimization to choke.</li><li>In the Subst rule, handle the case where the replacement string isn't specified and instead, treat it as an empty string.</li><li>New patch from the mailing list at <a href="http://maillist.perforce.com/pipermail/jamming/2003-December/002252.html">http://maillist.perforce.com/pipermail/jamming/2003-December/002252.html</a> as suggested by Andreas Fredriksson. <code>#ifdef</code>'ed as <code>OPT_CIRCULAR_GENERATED_HEADER_FIX</code>.</li><li>Add <code>OPT_ACTIONS_WAIT_FIX</code> using the patch found at <a href="http://maillist.perforce.com/pipermail/jamming/2003-December/002252.html.">http://maillist.perforce.com/pipermail/jamming/2003-December/002252.html.</a></li><li>glob.c: On Windows machines, glob files in a case insensitive manner.</li><li>Allow nested response file generation; that is, when expanding a variable to generate one response file, other response files may be embedded.</li><li>Apply the <code>HDRFILTER</code> to cached header lists, too. This allows a complete list to be stored within the dependency cache file, and then the list can be filtered to whatever the build scripts desire. Previously, the filtered list was stored in the dependency cache file, and there was no way to apply an alternate algorithm at a later point.</li><li>A few <code>-=</code> bug fixes.</li></ul>
<p>
<h3>Jambase:</h3>
<p>
<ul>
<li>Defaulted the build configuration to release instead of debug.</li><li>Fix to change the colon following a drive letter to a -- for the output directory in MultiCppCompile when outputastree is turned on. This happens when absolute paths are passed into MultiCppCompile.</li><li>Fixed SharedLibraryFromObjects (called from <a class="el" href="module_c.html#rule_C_Library">Library</a> with the <code>shared</code> option) from causing a circular dependency: targetname -&gt; targetname.lib -&gt; targetname.</li><li>The <a class="el" href="module_c.html#rule_C_Library">Library</a> rule has a new <code>nodefaults</code> option. Currently, its only use is to avoid adding /SUBSYSTEM to the link flags in Visual C++ builds.</li><li>The <a class="el" href="module_c.html#rule_C_Library">Library</a> rule has a new nomanifest option to turn off the embedding of a manifest in Visual C++ 8.0 and 9.0 builds.</li><li>The <a class="el" href="module_c.html#rule_C_Library">Library</a> rule has a new noexportlib option that turns off the insertion of the writing of the export (import) library.</li><li>For a library, append the SUFLIB instead of using the :S modifier. This fixes library names that have periods in them.</li><li><a class="el" href="module_c.html#rule_C_ObjectCFlags">ObjectCFlags</a> and <a class="el" href="module_c.html#rule_C_ObjectCppFlags">ObjectC++Flags</a> now only apply their flags to files of the appropriate types.</li><li>Fix a bug in <a class="el" href="module_c.html#rule_C_CFlags">CFlags</a> and <a class="el" href="module_c.html#rule_C_ObjectCFlags">ObjectCFlags</a> where flags weren't being applied properly.</li><li>Add <a class="el" href="jambase_rules.html#rule_NoWorkspace">NoWorkspace</a> rule.</li><li>For Visual Studio 2005 and 2008, use an incremental manifest embedding technique for Debug builds. For Release builds, use the simple <code>mt.exe -outputresource</code> technique.</li><li>Handle proper manifest embedding in DLLs by applying the <code>;2</code> modifier to the tool.</li><li>After checking the <a class="el" href="module_c.html#rule_C_OutputPostfix">OutputPostfix</a> for the current target, check the <code>*</code> target for a global override.</li><li>Handle relative paths specified for the <a class="el" href="module_c.html#rule_C_LinkDirectories">LinkDirectories</a> rule.</li><li>New rule <a class="el" href="module_c.html#rule_C_DefFile">DefFile</a>. Adds support for using .def files for DLL exports.</li><li>When compiling resources with <a class="el" href="module_c_win32resource.html#rule_C_ResourceCompiler">C.ResourceCompiler</a>, pick up defines, flags, and include directories from the .rc file, the pseudotarget parent, and the * global target.</li><li>Resource Compiler: If any of the defines, flags, or include directories change from the last Jam run, rebuild the resource.</li><li>Rules <a class="el" href="module_c_win32resource.html#rule_C_RcDefines">C.RcDefines</a>, <a class="el" href="module_c_win32resource.html#rule_C_RcFlags">C.RcFlags</a>, and <a class="el" href="module_c_win32resource.html#rule_C_RcIncludeDirectories">C.RcIncludeDirectories</a> accept either 2 or 3 parameters. If 2 parameters are specified, the options are applied to <code>TARGET</code>. If 3 parameters are specified, the options are applied to <code>RESOURCE_NAME</code>.</li><li><a class="el" href="jambase_rules.html#rule_SourceGroup">SourceGroup</a> can accept an optional <code>TARGET</code>, using the active target if <code>TARGET</code> isn't specified.</li><li>** Possibly breaking change... let me know if it is an issue. *** <a class="el" href="jamtoworkspace.html">JamToWorkspace</a> was architected to work when the <a class="el" href="jambase_rules.html#rule_SubDir">SubDir</a> root was preloaded with an absolute path. With the Jambase rework within JamPlus, it expected the same thing. This blows up when JamToWorkspace is not used and when a build is run from the root Jamfile. This change makes a generated <a class="el" href="jambase_rules.html#rule_SubDir">SubDir</a> root an absolute path. It works in all cases I've tried.</li><li>Make <a class="el" href="module_c.html#rule_C_Application">Application</a> and <a class="el" href="module_c.html#rule_C_Library">Library</a> pay attention to changes in the link flags, libraries, or objects. When a change is made from the last build, the executable or library is relinked (or rearchived).</li><li>When detecting MSVC versions, Jambase.jam now tries envvars, not just the registry. Seems that some installations don't have appropriate keys in the registry, and some don't have the envvars, so this should work for both.</li><li>In cases where <code>LOCATE_TARGET</code> isn't set, the <code>vcx0.pdb</code> files didn't get cleaned up. This is now fixed and prettier than before.</li><li>When calculating the absolute path from the relative path in <a class="el" href="module_c.html#rule_C_OutputPath">OutputPath</a>, handle the case where SUBDIR hasn't been set.</li><li><a class="el" href="module_c.html#rule_C_Library">Library</a> accepts an option '<code>module</code>'. When specified on OS X, a bundle is created. For other platforms, a module is created just like a normal shared library.</li><li>New configuration 'releaseltcg', a Release build with Link Time Code Generation support. Access it with the Jam command line option <code>-sCONFIG=releaseltcg</code>.</li><li>Added .idl support. Tested with both Workspace Whiz and LuaPlus.</li><li>Add <code>regserver</code> option to <a class="el" href="module_c.html#rule_C_Library">Library</a> for shared libraries. On Windows, <b>regsvr32</b> is run during the build to automatically register the DLL with the system. When cleaning, <b>regsvr32 /u </b>is run.</li><li>Remove the .intermediate.manifest file on Clean for all configurations (not just Debug).</li><li>CRuntimeType only worked for the * target. Now it works for project targets, too.</li><li>Add support to <a class="el" href="module_c.html#rule_C_BatchCompileGroupSize">BatchCompileGroupSize</a> to handle the <a class="el" href="jambase_rules.html#rule_ActiveProject">ActiveProject</a> rule.</li><li>In the <a class="el" href="module_c.html#rule_C_Library">Library</a> rule, the dependency chain was broken for the <code>noexportlib</code> option.</li></ul>
<p>
<h3>Jam Modules:</h3>
<p>
<ul>
<li>New CSharp Jam module: Adds rules CSharpAssembly, CSharpApplication, CSharpLibrary, CscDefines, CscFlags, ReferenceAssemblies, and ReferencePaths.</li><li>DirectX module: It is now a requirement to specify the <code>link</code> option to get the proper DirectX link directories in your path. Previously, this happened automatically, applying link flags even to static libraries.</li><li>DotNet module: Add VS2008 support.</li><li>MFC Jam module: Add the atlmfc/ path to the resource compiler includes.</li><li>MFC module: It is now a requirement to specify the <code>link</code> option to get the proper MFC link directories in your path. Previously, this happened automatically, applying link flags even to static libraries.</li><li>Midl Jam module: New rules MidlFlags and MidlCompiler for building .idl files.</li></ul>
<p>
<h3>JamToWorkspace:</h3>
<p>
<ul>
<li>Handle more than one workspace containing the same project.</li><li>Because libraries and executables were getting added to the 'all' target, sometimes unintended builds would happen when generating a workspace. This dependency has been removed.</li><li>Remove duplicate projects from the same workspace.</li><li>Fix from Lucas Meijer for handling <a class="el" href="jambase_rules.html#rule_ActiveProject">ActiveProject</a> specified targets with <a class="el" href="module_c.html#rule_C_LinkLibraries">LinkLibraries</a>.</li></ul>
<p>
<h3>Samples:</h3>
<p>
<ul>
<li>Added a csharp-windowsforms sample which illustrates the new CSharp module.</li><li>Updates to tests/compile_outputastree/ to make a Jamrules.jam with the ProjectSubDir rule in it. The reasoning behind all this is described in a forum thread.</li><li>tests/compile_outputastree/: Add libc project that globs files in a generic and platform-specific manner. This illustrates another point from a forum thread.</li><li>Add tests/dependency/more_than_one_target.jam.</li><li>Add tests/manifest_generation/. Provided by Chris Chapman.</li></ul>
<p>
<h3>VCProjToJamfile:</h3>
<p>
<ul>
<li>SourceGroups weren't being written out correctly and didn't work when JamToWorkspace was run.</li></ul>
<p>
<hr>
 <h2><a class="anchor" name="version0_2">
Version 0.2</a></h2>
<h3>New features for 0.2:</h3>
<p>
<ul>
<li>Visual Studio 2005 and 2008 solution and vcproj files.</li></ul>
<p>
<h3>Documentation:</h3>
<p>
<ul>
<li>In some manner, every JamPlus feature is documented (we hope).</li></ul>
<p>
<h3>Jam Executable:</h3>
<p>
<ul>
<li>Fixed a 'don't know how to make' bug when trying to create the subdirectory . (period)</li><li>Fixed an MD5 network cache issue in filecache_fillvalues. Reported by Jan van Valburg.</li><li>Fixed the -T command line option which, in turn, fixed the -t command line option.</li><li>Added the MightNotUpdate flag to work as a single target alternate to Needs.</li><li>Fixed directory file pattern match for $(dir/:W).</li><li>Fixed <a class="el" href="language_variables.html#language_variable_expansion">variable expansion</a> modifier issues when extra colons are present.</li><li>Altered the way the :I= and :X= <a class="el" href="language_variables.html#language_variable_expansion">variable expansion</a> modifiers work to better fit the documentation.</li><li>Addded the :T <a class="el" href="language_variables.html#language_variable_expansion">variable expansion</a> modifier to expand to the bound name.</li><li>For the :W modifier, grab the files earlier in the <a class="el" href="language_variables.html#language_variable_expansion">variable expansion</a>.</li><li>Only compile a given regular expression once. This existed in the original version of the header scanning code but not the HDRPIPE version.</li><li>Optimized retrieval of directories from the timestamp() code. This results in a very limited number of file queries for directories that cannot possibly exist. See OPT_TIMESTAMP_EXTENDED_PARENT_CHECK_EXT.</li><li>Fixed path delimiter in pathunix.c.</li><li>Made <a class="el" href="builtin_rules.html#rule_UseMD5Callback">UseMD5Callback</a> a built-in rule, instead of having it sit in the Jambase.</li><li>Removed the need to compile and link against the LuaPlus library when the Lua support was turned on.</li><li>Added Subst rule, based on Lua's string.gsub.</li><li>Added CppCompileOptions.</li><li>Bug fix for multiple passes.</li><li>Changed Lua multithreading to use Lua Lanes.</li></ul>
<p>
<h3>Jambase:</h3>
<p>
<ul>
<li>Re-added basic MinGW support, accessible by setting the <code>COMPILER</code> variable to <code>mingw</code>.</li><li><a class="el" href="jambase_rules.html#rule_SubInclude">SubIncluding</a> a given Jamfile only happens once.</li><li>Exits when an incorrect platform or configuration is specified.</li><li>Added <a class="el" href="module_c.html#rule_C_OutputPostfix">OutputPostfix</a>, <a class="el" href="module_c.html#rule_C_OutputPostfixClear">OutputPostfixClear</a>, and <a class="el" href="module_c.html#rule_C_OutputSuffix">OutputSuffix</a>.</li><li>For Visual Studio 2005, made the Microsoft .NET SDK include and library paths available.</li><li>WINDOWS was not a side-by-side #define with WIN32. Fixed.</li><li>Attempt to load a Jamrules-style file called .jamrules.</li><li>Fix import library dependencies for DLLs.</li><li>Allow an additional optional <a class="el" href="jambase_rules.html#rule_SubDir">SubDir</a> parameter denoting a 'target' in the grist. LOCATE_SOURCE, LOCATE_TARGET, and SOURCE_GRIST all append it.</li><li><a class="el" href="jambase_rules.html#rule_IncludeModule">IncludeModule</a>: Modules can only be included once.</li><li>Added <a class="el" href="module_c_dotnet.html#rule_C_ReferenceDirectories">ReferenceDirectories</a> for .NET references.</li><li>Added <a class="el" href="module_c.html#rule_C_BatchCompileGroupSize">BatchCompileGroupSize</a>. The default batch compilation group size is unlimited.</li><li>Fixed precompiled header support to allow precompiled header .cpp files with relative paths attached to the name. Uses the <a class="el" href="builtin_variables.html#built_in_variables_binding_binding_search_locate">BINDING</a> to control the output location.</li><li>Assign <code>LINK_TARGET</code> variable to the <code>TARGET</code> when setting up an executable or shared library link, so later post-build steps can get access to the binary without a complex look up.</li><li><a class="el" href="module_c.html#rule_C_Library">Library's</a> <code>OPTIONS</code> now accepts <code>noexportlib</code>.</li><li>Re-added <a class="el" href="module_c.html#rule_C_ObjectCFlags">ObjectCFlags</a> and <a class="el" href="module_c.html#rule_C_ObjectCppFlags">ObjectC++Flags</a>.</li><li>Added <code>rule_FGristDirectories</code> "FGristDirectories" rule.</li><li><a class="el" href="module_c.html#rule_C_Lump">Lump</a> rule handles .cxx.</li><li><a class="el" href="module_c.html#rule_C_PrecompiledHeader">PrecompiledHeader</a> rule accepts a shortened version where the .cpp and .h are determined by a single parameter.</li><li>Optimization - Don't scan inside .lib files, since the .obj files are present by default.</li><li>Major C/C++ compilation optimizations.</li><li>Fix support for .c precompiled headers.</li><li>Add <a class="el" href="module_c.html#rule_C_RuntimeType">CRuntimeType</a> to change between statically linked and dynamically linked C runtimes for Visual C++.</li><li>Remove VC5 support, since I have no way of testing it.</li><li>Change grists to be project level and not subdirectory level.</li><li>LINKDIRECTORIES was set up wrong and put in the global variable list. This is corrected now, and the initial LINKDIRECTORIES is assigned to *.</li><li>Moved <code>DEFINES</code> down with the platform they represent.</li><li>Change &lt;dir&gt; grist to &lt;!dir!&gt;.</li><li>Minor clean up for calculation of <code>MSVCNT</code> and <code>MSVCNT_PATH</code>.</li><li>Moved the <code>MSVCNT_PATH</code> first in the <code>PATH</code>.</li><li>Get rid of top-level dependencies that don't mean anything.</li><li>Removed unused script and targets.</li><li>Quote C/C++ files on the command line for Visual C++.</li><li>Handle separate C/C++ compilation.</li><li>LinkPrebuiltLibraries does not append an extension if an extension already exists.</li></ul>
<p>
<h3>Jam Modules:</h3>
<p>
<ul>
<li>MFC module: Removed automatic ATL and MFC include and library paths. <a class="el" href="jambase_rules.html#rule_IncludeModule">IncludeModule</a> <code>MFC</code> to access the paths and apply ATL/MFC support to a target.</li><li>DirectX module: Removed automatic DirectX include and library paths and added DirectX module. <a class="el" href="jambase_rules.html#rule_IncludeModule">IncludeModule</a> <code>DirectX</code> to apply DirectX support to a target.</li><li>wxWidgets module: Minor fix when generating the target name.</li><li>wxWidgets module: Added contrib libraries support. Only supports stc for now.</li><li>DotNet module: Add <code>StrongName</code> rule.</li><li>CopyDirectory and CopyFile modules: When generating a workspace that uses <a class="el" href="module_copydirectory.html#rule_CopyDirectory">CopyDirectory</a> and <a class="el" href="module_copyfile.html#rule_CopyFile">CopyFile</a>, files would get copied. Both rules now guard against that during workspace generation.</li></ul>
<p>
<h3>JamToWorkspace:</h3>
<p>
<ul>
<li>For the source Jamfile path, handle the case where Jamfile.jam is not specified.</li><li>When a project is specified as existing in a workspace but has not been defined, pop up an error message instead of crashing.</li><li>Handle quotes inside the preprocessor #defines.</li><li>Fix JamToWorkspace conversion when the target name is implicit and specified through ActiveProject.</li></ul>
<p>
<h3>Samples:</h3>
<p>
<ul>
<li>Make the batch maxtargets sample a little more clear.</li><li>helloworld test that is slightly more complicated than the helloworld sample app.</li><li>Add md5test.jam in tests/md5/.</li><li>Add tests/expand/expandtests.jam.</li><li>Very simple generatedheader test added.</li><li>tests/source_and_jamfiles_separate example added.</li><li>Batch file in samples/sharedlib/ to create a CodeBlocks MinGW project.</li><li>Fixed up the sharedlib/ sample to work better multiplatform.</li><li>Lua parsing phase examples in tests/lua/testluaparser.jam and tests/lua/testluaparser.jam.lua</li><li>Added tutorial 02-helloworld-static.</li><li>Useful output in the filecache_luamd5callback test.</li><li>tests/compile_outputastree/ - Fix obj/ output location.</li><li>Add .fx compilation sample.</li></ul>
<p>
<hr>
 <h2><a class="anchor" name="version0_1">
Version 0.1</a></h2>
<ul>
<li>Initial release. </li></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Aug 24 21:06:06 2009 for JamPlus manual by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
