<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>JamPlus manual: Built-in Rules</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7 -->
<div class="contents">
<h1><a class="anchor" name="builtin_rules">Built-in Rules </a></h1><h2><a class="anchor" name="builtin_rules_intro">
Introduction</a></h2>
<b>Jam</b> has a number built-in rules, all of which are pure procedure rules without updating actions. They are in three groups: the first builds the dependency graph; the second modifies it; and the third are just utility rules.<p>
<br>
<p>
 <center>  <h2><a class="anchor" name="language_built_in_rules_dependency_building">
Dependency Building</a></h2>
 </center> <p>
<multicol cols=3>
<ul>
<li><a href="builtin_rules.html#rule_Depends">Depends</a> <li><a href="builtin_rules.html#rule_Includes">Includes</a> <li><a href="builtin_rules.html#rule_Needs">Needs</a> </ul>
</multicol>
<p>
<hr>
 <h2><a class="anchor" name="rule_Depends">
rule Depends targets1 : targets2 [ : target3 ... targets9 ] ;</a></h2>
<p>
Builds a direct dependency: makes each of <em>targets1</em> depend on each of <em>targets2</em>. Generally, <em>targets1</em> will be rebuilt if <em>targets2</em> are themselves rebuilt are or are newer than <em>targets1</em>.<p>
As a simplification when specifying multi-level dependencies, <em>targets2</em> depend on the optional <em>targets3</em>, and so on.<p>
<hr>
 <h2><a class="anchor" name="rule_Includes">
rule Includes &lt;i&gt;targets1&lt;/i&gt; : &lt;i&gt;targets2&lt;/i&gt; [ : &lt;i&gt;target3&lt;/i&gt; ... &lt;i&gt;targets9&lt;/i&gt; ] ;</a></h2>
<p>
Builds a sibling dependency: makes any target that depends on any of <em>targets1</em> also depend on each of <em>targets2</em>. This reflects the dependencies that arise when one source file includes another: the object built from the source file depends both on the original and included source file, but the two sources files don't depend on each other. For example:<p>
<div class="fragment"><pre class="fragment">    Depends foo.o : foo.c ;
    Includes foo.c : foo.h ;
</pre></div><p>
"foo.o" depends on "foo.c" and "foo.h" in this example.<p>
As a simplification when specifying multi-level dependencies, <em>targets2</em> depend on the optional <em>targets3</em>, and so on.<p>
<hr>
 <h2><a class="anchor" name="rule_Needs">
rule Needs &lt;i&gt;targets1&lt;/i&gt; : &lt;i&gt;targets2&lt;/i&gt; [ : &lt;i&gt;target3&lt;/i&gt; ... &lt;i&gt;targets9&lt;/i&gt; ] ;</a></h2>
<p>
Needs is very similar to <a class="el" href="builtin_rules.html#rule_Depends">rule Depends targets1 : targets2 [ : target3 ... targets9 ] ;</a>. Like Depends, <em>targets1</em> are dependent on <em>targets2</em> having been built first. Unlike Depends, if <em>targets2</em> are updated, <em>targets1</em> do not build.<p>
As a simplification when specifying multi-level dependencies, <em>targets2</em> depend on the optional <em>targets3</em>, and so on.<p>
<br>
  <center>  <h2><a class="anchor" name="language_built_in_rules_modifying_binding">
Modifying Binding</a></h2>
 </center> <p>
The rules <a class="el" href="builtin_rules.html#rule_Always">Always</a>, <a class="el" href="builtin_rules.html#rule_Leaves">Leaves</a>, <a class="el" href="builtin_rules.html#rule_MightNotUpdate">MightNotUpdate</a>, <a class="el" href="builtin_rules.html#rule_NoCare">NoCare</a>, <a class="el" href="builtin_rules.html#rule_NotFile">NotFile</a>, <a class="el" href="builtin_rules.html#rule_NoUpdate">NoUpdate</a>, and <a class="el" href="builtin_rules.html#rule_Temporary">Temporary</a> modify the dependency graph so that <b>Jam</b> treats the targets differently during its target binding phase. See <a class="el" href="jam_language.html#operation_binding">Binding Phase</a> above. Normally, <b>Jam</b> updates a target if it is missing, if its filesystem modification time is older than any of its dependencies (recursively), or if any of its dependencies are being updated. This basic behavior can be changed by invoking the following rules:<p>
<multicol cols=3>
<ul>
<li><a href="builtin_rules.html#rule_Always">Always</a> <li><a href="builtin_rules.html#rule_Leaves">Leaves</a> <li><a href="builtin_rules.html#rule_MightNotUpdate">MightNotUpdate</a> <li><a href="builtin_rules.html#rule_NoCare">NoCare</a> <li><a href="builtin_rules.html#rule_NotFile">NotFile</a> <li><a href="builtin_rules.html#rule_NoUpdate">NoUpdate</a> <li><a href="builtin_rules.html#rule_Temporary">Temporary</a> <li><a href="builtin_rules.html#rule_UseCommandLine">UseCommandLine</a> </ul>
</multicol>
<p>
<hr>
 <h2><a class="anchor" name="rule_Always">
rule Always targets ;</a></h2>
<p>
Causes <em>targets</em> to be rebuilt regardless of whether they are up-to-date (they must still be in the dependency graph). This is used for the clean and uninstall targets, as they have no dependencies and would otherwise appear never to need building. It is best applied to targets that are also NotFile targets, but it can also be used to force a real file to be updated as well.<p>
<hr>
 <h2><a class="anchor" name="rule_Leaves">
rule Leaves targets ;</a></h2>
<p>
Makes each of <em>targets</em> depend only on its leaf sources, and not on any intermediate targets. This makes it immune to its dependencies being updated, as the "leaf" dependencies are those without their own dependencies and without updating actions. This allows a target to be updated only if original source files change.<p>
<hr>
 <h2><a class="anchor" name="rule_MightNotUpdate">
rule MightNotUpdate targets ;</a></h2>
<p>
Some targets may or may not update when their action is executed, such as export libraries for a Windows DLL. In order for <b>Jam</b> to process this behavior appropriately, the <em>targets</em> must be marked so their timestamps will be evaluated at the latest possible time during the <a class="el" href="jam_language.html#operation_updating">Updating Phase</a>.<p>
<hr>
 <h2><a class="anchor" name="rule_NoCare">
rule NoCare targets ;</a></h2>
<p>
Causes <b>Jam</b> to ignore <em>targets</em> that neither can be found nor have updating actions to build them. Normally for such targets <b>Jam</b> issues a warning and then skips other targets that depend on these missing targets. The HdrRule in Jambase uses NoCare on the header file names found during header file scanning, to let <b>Jam</b> know that the included files may not exist. For example, if a #include is within an #ifdef, the included file may not actually be around.<p>
<hr>
 <h2><a class="anchor" name="rule_NotFile">
rule NotFile targets ;</a></h2>
<p>
Marks <em>targets</em> as pseudotargets and not real files. No timestamp is checked, and so the actions on such a target are only executed if the target's dependencies are updated, or if the target is also marked with Always. The default <b>jam</b> target "all" is a pseudotarget. In Jambase, NotFile is used to define several addition convenient pseudotargets.<p>
<hr>
 <h2><a class="anchor" name="rule_NoUpdate">
rule NoUpdate targets ;</a></h2>
<p>
Causes the timestamps on <em>targets</em> to be ignored. This has two effects: first, once the target has been created it will never be updated; second, manually updating target will not cause other targets to be updated. In Jambase, for example, this rule is applied to directories by the MkDir rule, because <a class="el" href="jambase_rules.html#rule_MkDir">rule MkDir DIRECTORY</a> only cares that the target directory exists, not when it has last been updated.<p>
<hr>
 <h2><a class="anchor" name="rule_Temporary">
rule Temporary targets ;</a></h2>
<p>
Marks <em>targets</em> as temporary, allowing them to be removed after other targets that depend upon them have been updated. If a Temporary target is missing, <b>Jam</b> uses the timestamp of the target's parent. Jambase uses Temporary to mark object files that are archived in a library after they are built, so that they can be deleted after they are archived.<p>
<hr>
 <h2><a class="anchor" name="rule_UseCommandLine">
rule UseCommandLine TARGETS : COMMANDLINE;</a></h2>
<p>
The "command line" of a target, not necessarily the command line sent to a target's action, is compared against the previous build's command line for the same target. If it differs, regardless of timestamps being equal, the target is rebuilt.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGETS</em>&nbsp;</td><td>One or more targets to set the <code>COMMANDLINE</code> string to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>COMMANDLINE</em>&nbsp;</td><td>A unique string to be compared against the last build. When different, the target is rebuilt.</td></tr>
  </table>
</dl>
<em>Example 1:</em> During the last build, the defines for <code>somefile.cpp</code> were -DMYDEFINE -DSOMEDEFINE. The user then alters the defines for <code>somefile.cpp</code> to be -DMYDEFINE -DYOURDEFINE. <code>somefile.cpp</code> file will be rebuilt, even if the timestamp hasn't changed.<p>
<div class="fragment"><pre class="fragment">UseCommandLine somefile.cpp : -DMYDEFINE -DYOURDEFINE ;
</pre></div><p>
<em>Example 2:</em> The file format for <b>.model</b> files changes. It is desirable to cause the .model files to be rebuilt on the next build. This can be done by altering the 'command line' to be <code>version2</code>.<p>
<div class="fragment"><pre class="fragment">UseCommandLine $(TARGETS) : version2 ;
</pre></div><p>
<br>
  <center>  <h2><a class="anchor" name="language_built_in_rules_utility_rules">
Utility Rules</a></h2>
 </center> <p>
The remaining rules are utility rules.<p>
<multicol cols=3>
<ul>
<li><a href="builtin_rules.html#rule_Echo">Echo</a> <li><a href="builtin_rules.html#rule_Exit">Exit</a> <li><a href="builtin_rules.html#rule_Glob">Glob</a> <li><a href="builtin_rules.html#rule_Match">Match</a> <li><a href="builtin_rules.html#rule_Math">Math</a> <li><a href="builtin_rules.html#rule_MD5">MD5</a> <li><a href="builtin_rules.html#rule_MD5File">MD5File</a> </ul>
</multicol>
<p>
<hr>
 <h2><a class="anchor" name="rule_Echo">
rule Echo ARGS ;</a></h2>
<p>
Prints out the message <code>ARGS</code> to stdout.<p>
<hr>
 <h2><a class="anchor" name="rule_Exit">
rule Exit ARGS ;</a></h2>
<p>
Blurts out the message <code>ARGS</code> to stdout and then exits with a failure status.<p>
<hr>
 <h2><a class="anchor" name="rule_Glob">
rule Glob DIRECTORIES : PATTERNS [ : PREPEND ] ;</a></h2>
<p>
Scans <code>DIRECTORIES</code> for files matching <code>PATTERNS</code>, returning the list of matching files (with directory prepended, unless the optional <code>PREPEND</code> is set to <code>0</code> or <code>false</code>). <code>PATTERNS</code> uses the same syntax as in the <a class="el" href="jam_language.html#statements_switch">switch</a> statement. Only useful within the <code>[ ]</code> construct, to change the result into a list.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Returns all files and directories.  Directories have a / appended.</span>
<span class="preprocessor"></span><span class="preprocessor">    # Directories . and .. are not returned.</span>
<span class="preprocessor"></span>    Glob bin : * ;

<span class="preprocessor">    # Returns just directories.</span>
<span class="preprocessor"></span>    Glob bin : */ ;

<span class="preprocessor">    # Returns just files without bin/ prepended.</span>
<span class="preprocessor">    Glob bin : *[^/] : 0;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_Match">
rule Match REGEXPS : LIST ;</a></h2>
<p>
Matches the <b>egrep</b>(1) style regular expressions <code>REGEXPS</code> against the strings in <code>LIST</code>. The result is the concatenation of matching <code>()</code> subexpressions for each string in <code>LIST</code>, and for each regular expression in <code>REGEXPS</code>. Only useful within the <code>[ ]</code> construct, to change the result into a list.<p>
<hr>
 <h2><a class="anchor" name="rule_Subst">
rule Subst LIST : PATTERN : REPL [ : MAXN ] ;</a></h2>
<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>The Subst rule comes from the Lua code base's implementation of string.gsub. The documentation below is near verbatim from the Lua manual.</dd></dl>
Returns a copy of <code>LIST</code> in which all occurrences of the <code>PATTERN</code> have been replaced by a replacement string specified by <code>REPL</code>. Only useful within the <code>[ ]</code> construct, to change the result into a list.<p>
The character <code>%</code> works as an escape character: any sequence in repl of the form <code>n</code>, with <code>n</code> between 1 and 9, stands for the value of the n-th captured substring (see below). The sequence <code>0</code> stands for the whole match. The sequence <code>%%</code> stands for a single <code>%</code>.<p>
The optional last parameter n limits the maximum number of substitutions to occur. For instance, when n is 1 only the first occurrence of pattern is replaced.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"># __/__/dir/__/dir2</span>
<span class="preprocessor"></span>Echo [ Subst ../../dir/../dir2 : %.%. : __ ] ;

<span class="preprocessor"># hello hello world world</span>
<span class="preprocessor"></span>Echo [ Subst <span class="stringliteral">"hello world"</span> : <span class="stringliteral">"(%w+)"</span> : <span class="stringliteral">"%1 %1"</span> ] ;

<span class="preprocessor"># hello hello world</span>
<span class="preprocessor"></span>Echo [ Subst <span class="stringliteral">"hello world"</span> : <span class="stringliteral">"%w+"</span> : <span class="stringliteral">"%0 %0"</span> : 1 ] ;

<span class="preprocessor"># world hello Lua from</span>
<span class="preprocessor">Echo [ Subst "hello world from Lua" : "(%w+)%s*(%w+)" : "%2 %1" ] ;</span>
</pre></div><h3><a class="anchor" name="rule_Subst_Patterns">
Patterns</a></h3>
<h4>Character Class:</h4>
<p>
A <em>character class</em> is used to represent a set of characters. The following combinations are allowed in describing a character class:<p>
<ul>
<li>
<b><em>x</em>:</b> (where <em>x</em> is not one of the <em>magic characters</em><p>
<code>^$()%.[]*+-?</code>) represents the character <em>x</em> itself. <p>
</li>
<li>
<b><code>.</code>:</b> (a dot) represents all characters.<p>
</li>
<li>
<b><code>a</code>:</b> represents all letters.<p>
</li>
<li>
<b><code>c</code>:</b> represents all control characters.<p>
</li>
<li>
<b><code>d</code>:</b> represents all digits.<p>
</li>
<li>
<b><code>l</code>:</b> represents all lowercase letters.<p>
</li>
<li>
<b><code>p</code>:</b> represents all punctuation characters.<p>
</li>
<li>
<b><code>s</code>:</b> represents all space characters.<p>
</li>
<li>
<b><code>u</code>:</b> represents all uppercase letters.<p>
</li>
<li>
<b><code>w</code>:</b> represents all alphanumeric characters.<p>
</li>
<li>
<b><code>x</code>:</b> represents all hexadecimal digits.<p>
</li>
<li>
<b><code>z</code>:</b> represents the character with representation 0.<p>
</li>
<li>
<b><code>%<em>x</em></code>:</b> (where <em>x</em> is any non-alphanumeric character) represents the character <em>x</em>. This is the standard way to escape the magic characters. Any punctuation character (even the non magic) can be preceded by a '<code>%</code>' when used to represent itself in a pattern. <p>
</li>
<li>
<b><code>[<em>set</em>]</code>:</b><p>
represents the class which is the union of all characters in <em>set</em>. A range of characters may be specified by separating the end characters of the range with a '<code>-</code>'. All classes <code>%</code><em>x</em> described above may also be used as components in <em>set</em>. All other characters in <em>set</em> represent themselves. For example, <code>[w_]</code> (or <code>[_w]</code>) represents all alphanumeric characters plus the underscore,<p>
<code>[0-7]</code> represents the octal digits, and <code>[0-7l-]</code> represents the octal digits plus the lowercase letters plus the '<code>-</code>' character.<p>
<p>
The interaction between ranges and classes is not defined. Therefore, patterns like <code>[a-z]</code> or <code>[a-%%]</code> have no meaning. <p>
</li>
<li>
<b><code>[^<em>set</em>]</code>:</b> represents the complement of <em>set</em>, where <em>set</em> is interpreted as above. <p>
</li>
</ul>
<p>
For all classes represented by single letters (<code>a</code>, <code>c</code>, etc.), the corresponding uppercase letter represents the complement of the class. For instance, <code>S</code> represents all non-space characters.<p>
The definitions of letter, space, and other character groups depend on the current locale. In particular, the class <code>[a-z]</code> may not be equivalent to <code>l</code>.<p>
<h4>Pattern Item:</h4>
<p>
A <em>pattern item</em> may be<p>
<ul>
<li>
a single character class, which matches any single character in the class;<p>
<p>
</li>
<li>
a single character class followed by '<code>*</code>', which matches 0 or more repetitions of characters in the class. These repetition items will always match the longest possible sequence; <p>
</li>
<li>
a single character class followed by '<code>+</code>', which matches 1 or more repetitions of characters in the class. These repetition items will always match the longest possible sequence; <p>
</li>
<li>
a single character class followed by '<code>-</code>', which also matches 0 or more repetitions of characters in the class. Unlike '<code>*</code>', these repetition items will always match the <em>shortest</em> possible sequence;<p>
<p>
</li>
<li>
a single character class followed by '<code>?</code>', which matches 0 or 1 occurrence of a character in the class; <p>
</li>
<li>
<code>%<em>n</em></code>, for <em>n</em> between 1 and 9; such item matches a substring equal to the <em>n</em>-th captured string (see below);<p>
<p>
</li>
<li>
<code>b<em>xy</em></code>, where <em>x</em> and <em>y</em> are two distinct characters; such item matches strings that start with&nbsp;<em>x</em>, end with&nbsp;<em>y</em>, and where the <em>x</em> and <em>y</em> are <em>balanced</em>. This means that, if one reads the string from left to right, counting <em>+1</em> for an <em>x</em> and <em>-1</em> for a <em>y</em>, the ending <em>y</em> is the first <em>y</em> where the count reaches 0. For instance, the item <code>b()</code> matches expressions with balanced parentheses.<p>
<p>
</li>
</ul>
<p>
<h4>Pattern:</h4>
<p>
A <em>pattern</em> is a sequence of pattern items. A '<code>^</code>' at the beginning of a pattern anchors the match at the beginning of the subject string. A '<code>$</code>' at the end of a pattern anchors the match at the end of the subject string. At other positions, '<code>^</code>' and '<code>$</code>' have no special meaning and represent themselves.<p>
<h4>Captures:</h4>
<p>
A pattern may contain sub-patterns enclosed in parentheses; they describe <em>captures</em>. When a match succeeds, the substrings of the subject string that match captures are stored (<em>captured</em>) for future use. Captures are numbered according to their left parentheses. For instance, in the pattern <code>"(a*(.)%w(%s*))"</code>, the part of the string matching <code>"a*(.)%w(%s*)"</code> is stored as the first capture (and therefore has number&nbsp;1); the character matching "&lt;code&gt;.&lt;/code&gt;" is captured with number&nbsp;2, and the part matching "&lt;code&gt;%s*&lt;/code&gt;" has number&nbsp;3.<p>
As a special case, the empty capture <code>()</code> captures the current string position (a number). For instance, if we apply the pattern <code>"()aa()"</code> on the string <code>"flaaap"</code>, there will be two captures: 3&nbsp;and&nbsp;5.<p>
A pattern cannot contain embedded zeros. Use <code>z</code> instead.<p>
<hr>
 <h2><a class="anchor" name="rule_Math">
rule Math LEFT OPERATOR RIGHT ;</a></h2>
<p>
Calculates the result of the simple math equation. Only useful within the <code>[ ]</code> construct, to change the result into a list.<p>
FILL ME IN **<p>
<hr>
 <h2><a class="anchor" name="rule_MD5">
rule MD5 LIST [ : LIST2 ... ] ;</a></h2>
<p>
Calculates the md5sum of all lists and their respective list elements. Each list element is separated with one NUL character, so that <code>[ MD5 a b ]</code> is different than <code>[ MD5 ab ]</code>. Each list is separated with two NUL characters so that <code>[ MD5 a : b ]</code> is different than <code>[ MD5 a b ]</code>. Only useful within the <code>[ ]</code> construct, to change the resultant md5sum into a list.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor">        # Prints d41d8cd98f00b204e9800998ecf8427e.</span>
<span class="preprocessor"></span>    Echo [ MD5 <span class="stringliteral">""</span> ] ;

<span class="preprocessor">        # Returns c3fcd3d76192e4007dfb496cca67e13b.</span>
<span class="preprocessor">    Echo [ MD5 "abcdefghijklmnopqrstuvwxyz" ] ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_MD5File">
rule MD5File FILENAME_LIST [ : FILENAME_LIST2 ... ] ;</a></h2>
<p>
Calculates the md5sum of all listed files. Only useful within the <code>[ ]</code> construct, to change the resultant md5sum into a list.<p>
<div class="fragment"><pre class="fragment">    Echo [ MD5File <span class="stringliteral">"myfile.txt"</span> ] ;
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_OptionalFileCache">
rule OptionalFileCache TARGETS [ : CACHE_NAME ] ;</a></h2>
<p>
If the given generated <code>TARGETS</code> are already built and stored within the file cache <code>CACHE_NAME</code>, they are retrieved via a simple file copy, and no further build steps are initiated. If the <code>TARGETS</code> are not in the file cache, they are first generated locally via the prescribed build steps and then copied to the cache to be used in a future build. If the given target is not actually generated by a build step, it isn't copied to the file cache, and no error occurs.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGETS</em>&nbsp;</td><td>One or more targets to use the file cache for. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CACHE_NAME</em>&nbsp;</td><td>(optional) If not specified, defaults to <code>generic</code>.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Assign image.tga to the 'generic' file cache.</span>
<span class="preprocessor"></span>    OptionalFileCache image.tga ;

<span class="preprocessor">    # Assign image2.tga to the 'weapons' file cache.</span>
<span class="preprocessor">    OptionalFileCache image2.tga : weapons ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_UseFileCache">
rule UseFileCache TARGETS [ : CACHE_NAME ] ;</a></h2>
<p>
If the given generated <code>TARGETS</code> are already built and stored within the file cache <code>CACHE_NAME</code>, they are retrieved via a simple file copy, and no further build steps are initiated. If the <code>TARGETS</code> are not in the file cache, they are first generated locally via the prescribed build steps and then copied to the cache to be used in a future build.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGETS</em>&nbsp;</td><td>One or more targets to use the file cache for. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>CACHE_NAME</em>&nbsp;</td><td>(optional) If not specified, defaults to <code>generic</code>.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Assign image.tga to the 'generic' file cache.</span>
<span class="preprocessor"></span>    UseFileCache image.tga ;

<span class="preprocessor">    # Assign image2.tga to the 'weapons' file cache.</span>
<span class="preprocessor">    UseFileCache image2.tga : weapons ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_UseMD5Callback">
rule UseMD5Callback TARGETS [ : MD5_CALLBACK ] ;</a></h2>
<p>
When a callback is assigned to <code>TARGETS</code>, a Lua function of the name specified in the parameter <code>MD5_CALLBACK</code> is called. It calculates the MD5 of the target and returns it.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGETS</em>&nbsp;</td><td>One or more targets to assign an MD5 callback to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MD5_CALLBACK</em>&nbsp;</td><td>The name of a Lua function accepting a single parameter, the bound name of the target, and returning the md5sum.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Use the Lua function md5png to calculate the md5 for file1.png.</span>
<span class="preprocessor">    UseMD5Callback file1.png : md5png ;</span>
</pre></div><p>
<hr>
 </div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Nov 15 00:36:25 2008 for JamPlus manual by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7 </small></address>
</body>
</html>
