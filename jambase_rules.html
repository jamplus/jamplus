<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>JamPlus manual: Jambase Rules</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7 -->
<div class="contents">
<h1><a class="anchor" name="jambase_rules">Jambase Rules </a></h1><h2><a class="anchor" name="cmd_intro">
Introduction</a></h2>
If [square] brackets are used the argument is optional.<p>
Here is an alphabetically sorted list of all commands with references to their documentation: <multicol cols=3>
<ul>
<li><a href="jambase_rules.html#rule_ActiveProject">ActiveProject</a> <li><a href="jambase_rules.html#rule_Application">Application</a> <li><a href="jambase_rules.html#rule_CFlags">CFlags</a> <li><a href="jambase_rules.html#rule_CppFlags">C++Flags</a> <li><a href="jambase_rules.html#rule_CppCompileOptions">CppCompileOptions</a> <li><a href="jambase_rules.html#rule_CRuntimeType">CRuntimeType</a> <li><a href="jambase_rules.html#rule_Defines">Defines</a> <li><a href="jambase_rules.html#rule_ExcludeFromBuild">ExcludeFromBuild</a> <li><a href="jambase_rules.html#rule_FGristDirectories">FGristDirectories</a> <li><a href="jambase_rules.html#rule_IncludeDirectories">IncludeDirectories</a> <li><a href="jambase_rules.html#rule_IncludeModule">IncludeModule</a> <li><a href="jambase_rules.html#rule_Library">Library</a> <li><a href="jambase_rules.html#rule_LinkDirectories">LinkDirectories</a> <li><a href="jambase_rules.html#rule_LinkLibraries">LinkLibraries</a> <li><a href="jambase_rules.html#rule_LinkPrebuiltLibraries">LinkPrebuiltLibrariess</a> <li><a href="jambase_rules.html#rule_Lump">Lump</a> <li><a href="jambase_rules.html#rule_MakeLocate">MakeLocate</a> <li><a href="jambase_rules.html#rule_MkDir">MkDir</a> <li><a href="jambase_rules.html#rule_ObjectCFlags">ObjectCFlags</a> <li><a href="jambase_rules.html#rule_ObjectCppFlags">ObjectC++Flags</a> <li><a href="jambase_rules.html#rule_ObjectDefines">ObjectDefines</a> <li><a href="jambase_rules.html#rule_ObjectIncludeDirectories">ObjectIncludeDirectories</a> <li><a href="jambase_rules.html#rule_OutputName">OutputName</a> <li><a href="jambase_rules.html#rule_OutputPath">OutputPath</a> <li><a href="jambase_rules.html#rule_OutputPostfix">OutputPostfix</a> <li><a href="jambase_rules.html#rule_OutputSuffix">OutputSuffix</a> <li><a href="jambase_rules.html#rule_PrecompiledHeader">PrecompiledHeader</a> <li><a href="jambase_rules.html#rule_Project">Project</a> <li><a href="jambase_rules.html#rule_ProjectGroup">ProjectGroup</a> <li><a href="jambase_rules.html#rule_RcDefines">RcDefines</a> <li><a href="jambase_rules.html#rule_RcFlags">RcFlags</a> <li><a href="jambase_rules.html#rule_RcIncludeDirectories">RcIncludeDirectories</a> <li><a href="jambase_rules.html#rule_ResourceCompiler">ResourceCompiler</a> <li><a href="jambase_rules.html#rule_RmTemps">RmTemps</a> <li><a href="jambase_rules.html#rule_SearchSource">SearchSource</a> <li><a href="jambase_rules.html#rule_SourceGroup">SourceGroup</a> <li><a href="jambase_rules.html#rule_SubDir">SubDir</a> <li><a href="jambase_rules.html#rule_SubInclude">SubInclude</a> <li><a href="jambase_rules.html#rule_Workspace">Workspace</a> </ul>
</multicol>
<p>
The following is a list of rules available in <code>bin/Jambase.jam</code>.<p>
<hr>
 <h2><a class="anchor" name="rule_ActiveProject">
rule ActiveProject PROJECT</a></h2>
<p>
Set the default project target to use when the target isn't specified. This works with a good number of the Jambase commands.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>PROJECT</em>&nbsp;</td><td>The default target name to use for upcoming rules.</td></tr>
  </table>
</dl>
<hr>
 <h2><a class="anchor" name="rule_Application">
rule Application TARGET : SOURCES : OPTIONS</a></h2>
<p>
Compiles <code>SOURCES</code> and links them into <code>TARGET</code>. Filenames with an <code>.obj</code> or <code>.res</code> are passed straight through to the linker. Any file excluded from the build via <a class="el" href="jambase_rules.html#rule_ExcludeFromBuild">rule ExcludeFromBuild TARGET : SOURCES</a> is ignored.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target to link <code>SOURCES</code> into. The target name is given without extension. A platform specific extension will be generated, often reflecting a configuration type. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SOURCES</em>&nbsp;</td><td>The list of <code>.cpp</code>, <code>.cxx</code>, and <code>.c</code> to link into the application. Object and compiled Windows resource files may also be passed with this list. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPTIONS</em>&nbsp;</td><td>The following options are available. All options are optional.</td></tr>
  </table>
</dl>
 <blockquote>  <ul>
<li>
<code>windows</code> - Forces a GUI application. On Windows, the application must have a <code>WinMain</code> function. For Visual C++, the executable is linked with <code>/SUBSYSTEM:WINDOWS</code>. </li>
<li>
<code>console</code> (default) - Builds a console application. For Visual C++, the executable is linked with <code>/SUBSYSTEM:CONSOLE</code>. </li>
</ul>
 </blockquote> <p>
<div class="fragment"><pre class="fragment">    Application helloworld : helloworld.cpp ;
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_CFlags">
rule CFlags TARGET : FLAGS [: THE_CONFIG : THE_PLATFORM]</a></h2>
<p>
For the given project <code>TARGET</code>, assign the <code>FLAGS</code> to the appropriate configuration and platform.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target to assign the <code>FLAGS</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. If <code>TARGET</code> is <code>*</code>, the flags are made available globally. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FLAGS</em>&nbsp;</td><td>The list of flags to apply. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_CONFIG</em>&nbsp;</td><td>(optional) If not specified, the default is all configurations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_PLATFORM</em>&nbsp;</td><td>(optional) If not specified, the default is all platforms.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Assign /clr:oldsyntax to all C files in managedapp across all</span>
<span class="preprocessor"></span><span class="preprocessor">    # configurations and platforms.</span>
<span class="preprocessor"></span>    CFlags managedapp : /clr:oldsyntax ;

<span class="preprocessor">    # Assign /clr:oldsyntax to all C files in managedapp for the debug</span>
<span class="preprocessor"></span><span class="preprocessor">    # configuration and all platforms.</span>
<span class="preprocessor"></span>    CFlags managedapp : /clr:oldsyntax : debug ;

<span class="preprocessor">    # Assign /clr:oldsyntax to all C files in managedapp for the debug</span>
<span class="preprocessor"></span><span class="preprocessor">    # configuration and win32 platform.</span>
<span class="preprocessor">    CFlags managedapp : /clr:oldsyntax : debug : win32 ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_CppFlags">
rule C++Flags TARGET : FLAGS [: THE_CONFIG : THE_PLATFORM]</a></h2>
<p>
For the given project <code>TARGET</code>, assign the <code>FLAGS</code> to the appropriate configuration and platform.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target to assign the <code>FLAGS</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. If <code>TARGET</code> is <code>*</code>, the flags are made available globally. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FLAGS</em>&nbsp;</td><td>The list of flags to apply. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_CONFIG</em>&nbsp;</td><td>(optional) If not specified, the default is all configurations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_PLATFORM</em>&nbsp;</td><td>(optional) If not specified, the default is all platforms.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Assign /clr:oldsyntax to all C++ files in managedapp across all</span>
<span class="preprocessor"></span><span class="preprocessor">    # configurations and platforms.</span>
<span class="preprocessor"></span>    C++Flags managedapp : /clr:oldsyntax ;

<span class="preprocessor">    # Assign /clr:oldsyntax to all C++ files in managedapp for the debug</span>
<span class="preprocessor"></span><span class="preprocessor">    # configuration and all platforms.</span>
<span class="preprocessor"></span>    C++Flags managedapp : /clr:oldsyntax : debug ;

<span class="preprocessor">    # Assign /clr:oldsyntax to all C++ files in managedapp for the debug</span>
<span class="preprocessor"></span><span class="preprocessor">    # configuration and win32 platform.</span>
<span class="preprocessor">    C++Flags managedapp : /clr:oldsyntax : debug : win32 ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_CppCompileOptions">
rule CppCompileOptions OPTIONS</a></h2>
<p>
Sets options that affect how the compiler builds.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>OPTIONS</em>&nbsp;</td><td>The following options are available.</td></tr>
  </table>
</dl>
 <blockquote>  <ul>
<li>
<code>outputastree</code> - Set this if you want object files to be put in subdirectories matching the directory hierarchy of the source files. <code>..</code> directory entries are changed to <code>__</code> so the object files stay within the build hierarchy. The default is to put all object files in one flat directory per project. </li>
</ul>
 </blockquote> <p>
<div class="fragment"><pre class="fragment">    CppCompileOptions outputastree ;
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_CRuntimeType">
rule CRuntimeType TARGET : TYPE [ : THE_PLATFORM ]</a></h2>
<p>
For the given project <code>TARGET</code>, alter the build to use either a statically linked C runtime or a dynamically linked C runtime.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>At this time, the C runtime type only affects Visual C++ applications.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target to assign the new C runtime to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. If <code>TARGET</code> is <code>*</code>, the C runtime is changed globally. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TYPE</em>&nbsp;</td><td>May be set to either <code>static</code> or <code>dynamic</code>. Use <code>static</code> to select a statically linked C runtime. Use <code>dynamic</code> to dynamically link against the C runtime. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_PLATFORM</em>&nbsp;</td><td>(optional) If not specified, the default is the current platform.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Use the statically linked C runtime for all targets.</span>
<span class="preprocessor"></span>    CRuntimeType * : static ;

<span class="preprocessor">    # Use the dynamically linked C runtime for the helloworld target.</span>
<span class="preprocessor">    CRuntimeType helloworld : dynamic ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_Defines">
rule Defines TARGET : DEFINES [: THE_CONFIG : THE_PLATFORM]</a></h2>
<p>
For the given project <code>TARGET</code>, assign the <code>DEFINES</code> to the appropriate configuration and platform.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target to assign the <code>DEFINES</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. If <code>TARGET</code> is <code>*</code>, the defines are made available globally. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DEFINES</em>&nbsp;</td><td>The list of defines to apply. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_CONFIG</em>&nbsp;</td><td>(optional) If not specified, the default is all configurations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_PLATFORM</em>&nbsp;</td><td>(optional) If not specified, the default is all platforms.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Make #defines available for ABC and DEF=5 in someproject for all</span>
<span class="preprocessor"></span><span class="preprocessor">    # configurations and all platforms.</span>
<span class="preprocessor"></span>    Defines someproject : ABC DEF=5 ;

<span class="preprocessor">    # For the win32 platform, add a WIN32 define globally.</span>
<span class="preprocessor"></span>    Defines * : WIN32 : : win32 ;

<span class="preprocessor">    # Quote a #define, keeping the quotes for compilation:</span>
<span class="preprocessor">    Defines luacom : LUA5 "LUACOM_DLL=\\\"luacom.dll\\\"" ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_ExcludeFromBuild">
rule ExcludeFromBuild TARGET : SOURCES</a></h2>
<p>
For the given project <code>TARGET</code>, exclude the <code>SOURCES</code> from the build. If using <b>JamToWorkspace</b> for project generation, sources must be excluded and not simply removed from the list. Otherwise, they don't all show in the generated projects.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target to exclude the <code>SOURCES</code> from. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SOURCES</em>&nbsp;</td><td>The list of defines to exclude.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">    <span class="keywordflow">if</span> $(PLATFORM) != xbox
    {
        ExcludeFromBuild myproject : $(XBOX_SRCS) ;
    }
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_FGristDirectories">
rule FGristDirectories DIRECTORIES</a></h2>
<p>
Given a list of <code>DIRECTORIES</code>, a gristed version of each is returned. Currently, this means the directories are returned in the form: <code>&lt;!dir!&gt;directory/name</code><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>DIRECTORIES</em>&nbsp;</td><td>The directories to grist. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns the gristed version of each directory.</dd></dl>
<div class="fragment"><pre class="fragment">    Echo [ FGristDirectories $(TEMP)/stuff ] ;
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_IncludeDirectories">
rule IncludeDirectories TARGET : INCLUDEPATHS : THE_CONFIG : THE_PLATFORM</a></h2>
<p>
For the given project <code>TARGET</code>, assign the <code>INCLUDEPATHS</code> to the appropriate configuration and platform.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target to assign the <code>INCLUDEPATHS</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. If <code>TARGET</code> is <code>*</code>, the defines are made available globally. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>INCLUDEPATHS</em>&nbsp;</td><td>The list of include paths to apply. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_CONFIG</em>&nbsp;</td><td>(optional) If not specified, the default is all configurations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_PLATFORM</em>&nbsp;</td><td>(optional) If not specified, the default is all platforms.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Add $(Code)/Shared to myproject for all configurations and all platforms.</span>
<span class="preprocessor"></span>    IncludeDirectories myproject : $(Code)/Shared ;

<span class="preprocessor">    # For the win32 platform, add the MFC include path.</span>
<span class="preprocessor">    IncludeDirectories myproject : "$(MSVCNT)/atlmfc/include" : : win32 ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_IncludeModule">
rule IncludeModule MODULE_NAME</a></h2>
<p>
Loads a Jam module from the <code>bin/jammodules/</code> directory. When <code>IncludeModule</code> is specified more than once for the same <code>MODULE_NAME</code>, the module is only loaded once.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>MODULE_NAME</em>&nbsp;</td><td>The name of the module, which is the filename without path and extension.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Make the UseDirectX rule available.</span>
<span class="preprocessor">    IncludeModule DirectX ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_Library">
rule Library TARGET : SOURCES : OPTIONS</a></h2>
<p>
Compiles <code>SOURCES</code> and archives them into a library called <code>TARGET</code>. Filenames with an <code>.obj</code> or <code>.res</code> are passed straight through to the linker. Any file excluded from the build via <a class="el" href="jambase_rules.html#rule_ExcludeFromBuild">rule ExcludeFromBuild TARGET : SOURCES</a> is ignored.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The targets to archive <code>SOURCES</code> into. The target name is given without extension; a platform specific extension will be generated. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SOURCES</em>&nbsp;</td><td>The list of <code>.cpp</code>, <code>.cxx</code>, and <code>.c</code> to link into the application. Object and compiled Windows resource files may also be passed with this list. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPTIONS</em>&nbsp;</td><td>(optional) The following options are available.</td></tr>
  </table>
</dl>
 <blockquote>  <ul>
<li>
<code>shared</code> - Instead of building a static library (the default), a shared library (DLL) is built. </li>
</ul>
 </blockquote> <p>
 <blockquote>  If <code>shared</code> is specified for <code>OPTIONS</code>, the following additional options are available:<p>
<ul>
<li>
<code>windows</code> - Forces a GUI application. For Visual C++, the DLL is linked with <code>/SUBSYSTEM:WINDOWS</code>. </li>
<li>
<code>console</code> (default) - Builds a console application. For Visual C++, the DLL is linked with <code>/SUBSYSTEM:CONSOLE</code>. </li>
</ul>
 </blockquote> <p>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Build a static library called mystaticlibrary from the sources</span>
<span class="preprocessor"></span><span class="preprocessor">    # file1.c and file2.cpp.</span>
<span class="preprocessor"></span>    Library mystaticlibrary : file1.c file2.cpp ;

<span class="preprocessor">    # Build a shared library called mystaticlibrary from the sources</span>
<span class="preprocessor"></span><span class="preprocessor">    # file3.c and file4.cpp.</span>
<span class="preprocessor">    Library mysharedlibrary : file3.c file4.cpp : shared ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_LinkDirectories">
rule LinkDirectories TARGET : DIRECTORIES : THE_CONFIG : THE_PLATFORM</a></h2>
<p>
For the given project <code>TARGET</code>, assign the link <code>DIRECTORIES</code> to the appropriate configuration and platform.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target to assign the link <code>DIRECTORIES</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. If <code>TARGET</code> is <code>*</code>, the defines are made available globally. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DIRECTORIES</em>&nbsp;</td><td>The list of link directories to apply. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_CONFIG</em>&nbsp;</td><td>(optional) If not specified, the default is all configurations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_PLATFORM</em>&nbsp;</td><td>(optional) If not specified, the default is all platforms.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Add c:/some/directory to myproject for all configurations and</span>
<span class="preprocessor"></span><span class="preprocessor">        # all platforms.</span>
<span class="preprocessor"></span>    LinkDirectories myproject : c:/some/directory ;

<span class="preprocessor">    # For the win32 platform, add the MFC link directory.</span>
<span class="preprocessor">        LinkDirectories myproject : "$(MSVCNT)/atlmfc/lib" : : win32 ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_LinkFlags">
rule LinkFlags TARGET : FLAGS : THE_CONFIG : THE_PLATFORM</a></h2>
<p>
For the given project <code>TARGET</code>, assign the link <code>FLAGS</code> to the appropriate configuration and platform.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target to assign the link <code>FLAGS</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. If <code>TARGET</code> is <code>*</code>, the flags are made available globally. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FLAGS</em>&nbsp;</td><td>The list of link flags to apply. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_CONFIG</em>&nbsp;</td><td>(optional) If not specified, the default is all configurations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_PLATFORM</em>&nbsp;</td><td>(optional) If not specified, the default is all platforms.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">    LinkFlags ManagedLuaPlus : /DELAYLOAD:LuaPlus_1100.debug.dll : debug ;
    LinkFlags ManagedLuaPlus : /DELAYLOAD:LuaPlus_1100.dll : release ;
    LinkFlags ManagedLuaPlus : /KEYFILE:\<span class="stringliteral">"$(SEARCH_SOURCE)/ManagedLuaPlus.snk\" ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_LinkLibraries">
rule LinkLibraries TARGET : LIBRARIES : THE_CONFIG : THE_PLATFORM</a></h2>
<p>
Makes <code>TARGET</code> depend on Jam generated <code>LIBRARIES</code> and includes them during linking.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target to link <code>LIBRARIES</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>LIBRARIES</em>&nbsp;</td><td>The list of libraries to apply. These libraries are those generated from the <a class="el" href="jambase_rules.html#rule_Library">rule Library TARGET : SOURCES : OPTIONS</a> rule. They do not include prebuilt libraries. To link prebuilt libraries, use the <a class="el" href="jambase_rules.html#rule_LinkPrebuiltLibraries">rule LinkPrebuiltLibraries TARGET : LIBRARIES : THE_CONFIG : THE_PLATFORM</a> rule. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_CONFIG</em>&nbsp;</td><td>(optional) If not specified, the default is all configurations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_PLATFORM</em>&nbsp;</td><td>(optional) If not specified, the default is all platforms.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">        LinkLibraries MiniApp : Application LuaPlusStatic Misc ;
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_LinkPrebuiltLibraries">
rule LinkPrebuiltLibraries TARGET : LIBRARIES : THE_CONFIG : THE_PLATFORM</a></h2>
<p>
Makes <code>TARGET</code> depend on <code>LIBRARIES</code> and includes them during linking.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target to link <code>LIBRARIES</code> to. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>LIBRARIES</em>&nbsp;</td><td>The list of libraries to apply. These libraries are prebuilt libraries, such as kernel32.lib, and are specified without an extension. For those libraries generated from the <a class="el" href="jambase_rules.html#rule_Library">rule Library TARGET : SOURCES : OPTIONS</a> rule, use the <a class="el" href="jambase_rules.html#rule_LinkLibraries">rule LinkLibraries TARGET : LIBRARIES : THE_CONFIG : THE_PLATFORM</a> rule. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_CONFIG</em>&nbsp;</td><td>(optional) If not specified, the default is all configurations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_PLATFORM</em>&nbsp;</td><td>(optional) If not specified, the default is all platforms.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">    LinkPrebuiltLibraries MiniApp : advapi32 gdi32 ole32 shell32 user32 ;
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_Lump">
rule Lump PARENT : SOURCES_VARIABLE_NAME : LUMP_NAME : PCH_HEADER : PCH_HEADER_FILENAME : LUMP_EXT : EXTRA_INCLUDE_PATHS</a></h2>
<p>
Generates a <code>.c</code> or <code>.cpp</code> file containing an <code>#include</code> amalgamation of files passed into the rule.<p>
The name of the generated lump file is <code>$(LOCATE_SOURCE)/!$(LUMP_NAME)!.$(LUMP_EXT)</code>. The lump file has the following contents:<p>
<ol>
<li>
If a precompiled header is specified through <code>PCH_HEADER</code> and <code>PCH_HEADER_FILENAME</code>, a <code>#include "$(PCH_HEADER_FILENAME)"</code> line is added to the lump file. </li>
<li>
For each C-style source specified in <code>SOURCES_VARIABLE_NAME</code> that is not excluded from the build via <a class="el" href="jambase_rules.html#rule_ExcludeFromBuild">rule ExcludeFromBuild TARGET : SOURCES</a>, a <code>#include "filename"</code> is added to the lump file. </li>
</ol>
<p>
Lumping may be turned off globally by setting the global variable <code>LUMP</code> to be <code>0</code>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>PARENT</em>&nbsp;</td><td>The parent target to which the lump file belongs. <code>PARENT</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SOURCES_VARIABLE_NAME</em>&nbsp;</td><td>The variable name listing the source files to be added to the lump. This is not an expanded version through <code></code> but rather, it is the actual name of the variable, <code>SRCS</code>. On return from the <code>Lump</code> rule, <code>SOURCES_VARIABLE_NAME</code> will be populated with the gristed name of the lump file. It will not contain the original file list anymore. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>PCH_HEADER</em>&nbsp;</td><td>(optional) If <code>PCH_HEADER</code> is specified, <code>PCH_HEADER_FILENAME</code> must also be specified. <code>PCH_HEADER</code> should be the title of the file that is the precompiled header. That is, if the precompiled header is <code>StdAfx.cpp</code>, <code>PCH_HEADER</code> must be <code>StdAfx</code>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>PCH_HEADER_FILENAME</em>&nbsp;</td><td>(optional, but required if <code>PCH_HEADER</code> is passed in) <code>PCH_HEADER_FILENAME</code> is used when building the lump file, as seen above in #1 of the lump file contents. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>LUMP_EXT</em>&nbsp;</td><td>(optional) If a different lump file extension than the default <code>.cpp</code> is required, pass it here. It should not contain the opening period. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>EXTRA_INCLUDE_PATHS</em>&nbsp;</td><td>If additional include paths are needed for this lump file, specify them here.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # For the Misc target, use the contents of SRCS to build a lump called</span>
<span class="preprocessor"></span><span class="preprocessor">    # MiscLump.  In addition, this lump should use the precompiled header file</span>
<span class="preprocessor"></span><span class="preprocessor">    # Misc_InternalPch.h.</span>
<span class="preprocessor"></span>    Lump Misc : SRCS : MiscLump : Misc_InternalPch : Misc_InternalPch.h : cpp ;

<span class="preprocessor">    # A separate lump in the Misc target is made for PNG_SRCS.  It doesn't have</span>
<span class="preprocessor"></span><span class="preprocessor">    # a precompiled header, but it should be generated as a C file.</span>
<span class="preprocessor">    Lump Misc : PNG_SRCS : PNGLump : : : c ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_MakeLocate">
rule MakeLocate TARGETS : DIRECTORY</a></h2>
<p>
Creates <code>DIRECTORY</code> and causes <code>TARGETS</code> to be built into the directory. It does so by setting the special Jam variable <code>LOCATE</code> on each of the <code>TARGETS</code> and then arranges with <a class="el" href="jambase_rules.html#rule_MkDir">rule MkDir DIRECTORY</a> to create the target directory.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGETS</em>&nbsp;</td><td>The targets to set the output directory on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DIRECTORY</em>&nbsp;</td><td>The output directory to build the targets into.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Set the output location of the given target to be the TEMP directory.</span>
<span class="preprocessor">    MakeLocate junkfile.txt : $(TEMP) ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_MkDir">
rule MkDir DIRECTORY</a></h2>
<p>
Creates <code>DIRECTORY</code> and its parent directories.<p>
If using <code>MkDir</code> separately from <a class="el" href="jambase_rules.html#rule_MakeLocate">rule MakeLocate TARGETS : DIRECTORY</a>, it is necessary to set dependencies using the properly gristed directory name obtained through <a class="el" href="jambase_rules.html#rule_FGristDirectories">rule FGristDirectories DIRECTORIES</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>DIRECTORY</em>&nbsp;</td><td>The output directory to create.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Create a directory in the TEMP directory called stuff/.</span>
<span class="preprocessor"></span>    MkDir $(TEMP)/stuff ;

<span class="preprocessor">    # Link it into the dependency graph.</span>
<span class="preprocessor">    Depends sometarget : [ FGristDirectories $(TEMP)/stuff ] ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_ObjectCFlags">
rule ObjectCFlags TARGET : SOURCES : FLAGS [: THE_CONFIG : THE_PLATFORM]</a></h2>
<p>
For the given <code>SOURCES</code>, assign the <code>FLAGS</code> to the appropriate configuration and platform.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target containing the <code>SOURCES</code>. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SOURCES</em>&nbsp;</td><td>The list of sources to assign the <code>FLAGS</code> to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FLAGS</em>&nbsp;</td><td>The list of flags to apply. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_CONFIG</em>&nbsp;</td><td>(optional) If not specified, the default is all configurations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_PLATFORM</em>&nbsp;</td><td>(optional) If not specified, the default is all platforms.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Assign /clr:oldsyntax to all C files in managedapp across all</span>
<span class="preprocessor"></span><span class="preprocessor">    # configurations and platforms.</span>
<span class="preprocessor">    ObjectCFlags managedapp : somefile.c : /clr:oldsyntax ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_ObjectCppFlags">
rule ObjectC++Flags TARGET : SOURCES : FLAGS [: THE_CONFIG : THE_PLATFORM]</a></h2>
<p>
For the given <code>SOURCES</code>, assign the <code>FLAGS</code> to the appropriate configuration and platform.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target containing the <code>SOURCES</code>. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SOURCES</em>&nbsp;</td><td>The list of sources to assign the <code>FLAGS</code> to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FLAGS</em>&nbsp;</td><td>The list of flags to apply. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_CONFIG</em>&nbsp;</td><td>(optional) If not specified, the default is all configurations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_PLATFORM</em>&nbsp;</td><td>(optional) If not specified, the default is all platforms.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Assign /clr:oldsyntax to all C files in managedapp across all</span>
<span class="preprocessor"></span><span class="preprocessor">    # configurations and platforms.</span>
<span class="preprocessor">    ObjectC++Flags managedapp : somefile.cpp : /clr:oldsyntax ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_ObjectDefines">
rule ObjectDefines TARGET : SOURCES : DEFINES [: THE_CONFIG : THE_PLATFORM]</a></h2>
<p>
For the given <code>SOURCES</code>, assign the <code>DEFINES</code> to the appropriate configuration and platform.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target containing the <code>SOURCES</code>. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SOURCES</em>&nbsp;</td><td>The list of sources to assign the <code>DEFINES</code> to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>DEFINES</em>&nbsp;</td><td>The list of defines to apply. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_CONFIG</em>&nbsp;</td><td>(optional) If not specified, the default is all configurations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_PLATFORM</em>&nbsp;</td><td>(optional) If not specified, the default is all platforms.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Make #defines available for ABC and DEF=5 in someproject's justafile.cpp</span>
<span class="preprocessor"></span><span class="preprocessor">        # for all configurations and all platforms.</span>
<span class="preprocessor">    ObjectDefines someproject : justafile.cpp : ABC DEF=5 ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_ObjectIncludeDirectories">
rule ObjectIncludeDirectories TARGET : SOURCE : INCLUDEPATHS : THE_CONFIG : THE_PLATFORM</a></h2>
<p>
For the given <code>SOURCES</code>, assign the <code>INCLUDEPATHS</code> to the appropriate configuration and platform.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target containing the <code>SOURCES</code>. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SOURCES</em>&nbsp;</td><td>The list of sources to assign the include paths to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>INCLUDEPATHS</em>&nbsp;</td><td>The list of include paths to apply. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_CONFIG</em>&nbsp;</td><td>(optional) If not specified, the default is all configurations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_PLATFORM</em>&nbsp;</td><td>(optional) If not specified, the default is all platforms.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Add $(Code)/Shared to myproject's somefile.cpp for all configurations</span>
<span class="preprocessor"></span><span class="preprocessor">    # and all platforms.</span>
<span class="preprocessor">    ObjectIncludeDirectories myproject : somefile.cpp : $(Code)/Shared ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_OutputName">
rule OutputName TARGET : NAME : THE_CONFIG : THE_PLATFORM</a></h2>
<p>
By default, the name of a generated executable or library is determined by the name of the <code>TARGET</code>. <code>OutputName</code> is used to override the name of the executable or library.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target to affect the output name change on. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NAME</em>&nbsp;</td><td>The new name of the output target. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_CONFIG</em>&nbsp;</td><td>(optional) If not specified, the default is all configurations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_PLATFORM</em>&nbsp;</td><td>(optional) If not specified, the default is all platforms.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Change the name of the LuaPlusShared target to LuaPlus_1100.  When</span>
<span class="preprocessor"></span><span class="preprocessor">    # the shared library is created, the name on disk will be LuaPlus_1100.dll.</span>
<span class="preprocessor">    OutputName LuaPlusShared : LuaPlus_1100 ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_OutputPath">
rule OutputPath TARGET : OUTPUTPATH : THE_CONFIG : THE_PLATFORM</a></h2>
<p>
By default, the output location of a generated executable or library is at <code>LOCATE_TARGET</code>. <code>OutputPath</code> is used to override the output location of the executable or library.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target to affect the output path change on. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OUTPUTPATH</em>&nbsp;</td><td>The new output location of the generated target. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_CONFIG</em>&nbsp;</td><td>(optional) If not specified, the default is all configurations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_PLATFORM</em>&nbsp;</td><td>(optional) If not specified, the default is all platforms.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Change the name of the LuaPlusShared target to LuaPlus_1100.  When</span>
<span class="preprocessor"></span><span class="preprocessor">        # the shared library is created, the name on disk will be LuaPlus_1100.dll.</span>
<span class="preprocessor"></span><span class="preprocessor">    #</span>
<span class="preprocessor"></span><span class="preprocessor">    # Also change the output location of the generated DLL.</span>
<span class="preprocessor"></span>    OutputName LuaPlusShared : LuaPlus_1100 ;
    OutputPath LuaPlusShared : <span class="stringliteral">"c:/Program Files/LuaPlus"</span> ;
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_OutputPostfix">
rule OutputPostfix TARGET : POSTFIX : THE_CONFIG : THE_PLATFORM</a></h2>
<p>
The output postfix is appended to the end of the generated target name. By default, the output postfix is .$(CONFIG). This means the resultant filename is $(OUTPUTNAME).$(CONFIG).$(EXT).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target to affect the output path change on. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>POSTFIX</em>&nbsp;</td><td>The new output postfix of the generated target. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_CONFIG</em>&nbsp;</td><td>(optional) If not specified, the default is all configurations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_PLATFORM</em>&nbsp;</td><td>(optional) If not specified, the default is all platforms.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Change the name of the LuaPlusShared target to LuaPlus_1100.  When</span>
<span class="preprocessor"></span><span class="preprocessor">    # the shared library is created, the name on disk will be LuaPlus_1100.dll.</span>
<span class="preprocessor"></span><span class="preprocessor">    #</span>
<span class="preprocessor"></span><span class="preprocessor">    # Also change the output location of the generated DLL.</span>
<span class="preprocessor"></span><span class="preprocessor">    #</span>
<span class="preprocessor"></span><span class="preprocessor">    # Generate the postfix as follows:</span>
<span class="preprocessor"></span><span class="preprocessor">    #</span>
<span class="preprocessor"></span><span class="preprocessor">    #   * For debug:   LuaPlus_1100.debug.dll</span>
<span class="preprocessor"></span><span class="preprocessor">    #   * For release: LuaPlus_1100.dll</span>
<span class="preprocessor"></span>    OutputName LuaPlusShared : LuaPlus_1100 ;
    OutputPath LuaPlusShared : <span class="stringliteral">"c:/Program Files/LuaPlus"</span> ;
    OutputPostfix LuaPlusShared : .debug : debug ;
    OutputPostfix LuaPlusShared : : release ;
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_OutputSuffix">
rule OutputSuffix TARGET : SUFFIX : THE_CONFIG : THE_PLATFORM</a></h2>
<p>
The output suffix is the file extension of the generated target. By default, the output suffix is appropriate for an executable or library.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target to affect the output suffix change on. <code>TARGET</code> is optional if <a class="el" href="jambase_rules.html#rule_ActiveProject">rule ActiveProject PROJECT</a> has been specified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SUFFIX</em>&nbsp;</td><td>The new output suffix of the generated target. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_CONFIG</em>&nbsp;</td><td>(optional) If not specified, the default is all configurations. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>THE_PLATFORM</em>&nbsp;</td><td>(optional) If not specified, the default is all platforms.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # The final name will be SomePlugin.appplugin.</span>
<span class="preprocessor">    OutputSuffix SomePlugin : .appplugin ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_PrecompiledHeader">
rule PrecompiledHeader TARGET : NAME : FILES</a></h2>
<p>
Creates a precompiled header and uses it on the specified <code>FILES</code>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The target to which the precompiled header belongs. This is needed to properly grist the precompiled header filenames. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NAME</em>&nbsp;</td><td>This parameter is made up of either one or two filenames. The first filename is the <code>.cpp</code> file used to create the precompiled header. If it does not contain an extension, <code>.cpp</code> is added. If the second filename is not specified, the default is to use the first filename with its suffix modified to <code>.h</code>. If the second filename is specified, it will represent the header file used for the precompilation. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FILES</em>&nbsp;</td><td>The list of files to apply the precompiled header to.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # For all sources in PCH_SRCS in the Misc project, the precompiled header</span>
<span class="preprocessor"></span><span class="preprocessor">    # will be set to Misc_InternalPch.h.  The precompiled header file is created</span>
<span class="preprocessor"></span><span class="preprocessor">    # from Misc_InternalPch.cpp.</span>
<span class="preprocessor"></span>    PrecompiledHeader Misc : Misc_InternalPch : $(PCH_SRCS) ;

<span class="preprocessor">    # The precompiled header stdafx.h is applied to SRCS.  stdafx.cpp is used</span>
<span class="preprocessor"></span><span class="preprocessor">    # to create the precompiled header.</span>
<span class="preprocessor">    PrecompiledHeader SimpleMFC : stdafx.cpp stdafx.h : $(SRCS) ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_Project">
rule Project PROJECT_NAME : SOURCES</a></h2>
<p>
When generating a workspace, projects are automatically made of each executable or library processed while reading in the Jamfiles. When a project isn't an executable or library, such as one containing data files, the <code>Project</code> rule can be used to generate a project containing those files.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>PROJECT_NAME</em>&nbsp;</td><td>The name of the new project to generate. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SOURCES</em>&nbsp;</td><td>The list of files representing the contents of the new project.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">    Project Data : $(DATA_FILES) ;
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_ProjectGroup">
rule ProjectGroup TARGET : FOLDERNAME : PROJECTS</a></h2>
<p>
For workspaces that support grouping of projects into folders, the <code>ProjectGroup</code> rule is used to tell <b>JamToWorkspace</b> which projects go into which folders.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The workspace to which the project folders will be created. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FOLDERNAME</em>&nbsp;</td><td>The backslash separated folder name to which <code>PROJECTS</code> will be inserted into. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>PROJECTS</em>&nbsp;</td><td>The list of projects to put into the folder.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">    ProjectGroup MyApp : <span class="stringliteral">"Plugins\\Data Generators"</span> : DataGeneratorA DataGeneratorB ;
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_RcDefines">
rule RcDefines TARGET : RESOURCE_NAME : DEFINES</a></h2>
<p>
To be documented.<p>
<hr>
 <h2><a class="anchor" name="rule_RcFlags">
rule RcFlags TARGET : RESOURCE_NAME : FLAGS</a></h2>
<p>
To be documented.<p>
<hr>
 <h2><a class="anchor" name="rule_RcIncludeDirectories">
rule RcIncludeDirectories TARGET : RESOURCE_NAME : HDRS</a></h2>
<p>
To be documented.<p>
<hr>
 <h2><a class="anchor" name="rule_ResourceCompiler">
rule ResourceCompiler PARENT : SOURCES : OPTIONS</a></h2>
<p>
Compiles a resource <code>.rc</code> file into a <code>.res</code> file.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>PARENT</em>&nbsp;</td><td>The parent target to which the resource file belongs. This is needed to properly grist the resource filenames. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SOURCES</em>&nbsp;</td><td>The <code>.rc</code> file to be compiled. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>OPTIONS</em>&nbsp;</td><td>(optional) The following options are available.</td></tr>
  </table>
</dl>
 <blockquote>  <ul>
<li>
<code>quiet</code> - Typically not user specified. Used internally by the manifest generation script. </li>
</ul>
 </blockquote> <p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns the gristed filename of the compiled resource, suitable for passing directly to the <code>Application</code> or <code>Library</code> rules.</dd></dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    # Compile SimpleMFC.rc into SimpleMFC.res.</span>
<span class="preprocessor">    SRCS += [ ResourceCompiler SimpleMFC : SimpleMFC.rc ] ;</span>
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_RmTemps">
rule RmTemps TARGETS : SOURCES</a></h2>
<p>
Marks <code>SOURCES</code> as temporary with the <code>Temporary</code> rule and deletes <code>SOURCES</code> once <code>TARGETS</code> are built. <code>RmTemps</code> must be the last rule invoked on <code>TARGETS</code>. Used internally.<p>
<hr>
 <h2><a class="anchor" name="rule_SearchSource">
rule SearchSource SOURCES</a></h2>
<p>
Applies $(SEARCH_SOURCE) to all <code>SOURCES</code> that do not already have a <code>SEARCH</code> applied. Generally, <code>SEARCH_SOURCE</code> is applied through rules just as <code>Application</code> or <code>Library</code>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>SOURCES</em>&nbsp;</td><td>The list of sources to apply $(SEARCH_SOURCE) to.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">        SearchSource $(SRCS) ;
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_SourceGroup">
rule SourceGroup TARGET : FOLDERNAME : SOURCES</a></h2>
<p>
For workspace projects that support grouping of files into folders, the <code>SourceGroup</code> rule is used to tell <b>JamToWorkspace</b> which files are to be placed into which folders within a project.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TARGET</em>&nbsp;</td><td>The project to which the folders will be created. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FOLDERNAME</em>&nbsp;</td><td>The backslash separated folder name to which <code>SOURCES</code> will be inserted. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>SOURCES</em>&nbsp;</td><td>The list of files to put into the folder.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">        SourceGroup Misc : <span class="stringliteral">"zlib"</span> : $(ZLIB_SRCS) ;
        SourceGroup Misc : <span class="stringliteral">"string\\trio"</span> : $(TRIO_SRCS) ;
</pre></div><p>
<hr>
 <h2><a class="anchor" name="rule_SubDir">
rule SubDir TOP d1...dn : SUBNAME</a></h2>
<p>
Sets up housekeeping for the source files located in <code>/d1/.../dn</code>:<p>
<ul>
<li>
Reads in rules file associated with <code>TOP</code>, if it hasn't already been read. </li>
<li>
Initializes subdirectory specific variables for search paths, output directories, compiler flags, and grist, using <code>d1...dn</code> tokens. </li>
</ul>
<p>
<code>TOP</code> is the name of a variable; <code>d1</code> thru <code>dn</code> are elements of a directory path.<p>
<hr>
 <h2><a class="anchor" name="rule_SubInclude">
rule SubInclude VAR d1...dn : FILETITLE</a></h2>
<p>
Reads the Jamfile in <code>/d1/.../dn/</code>. Assumes a default Jamfile name of <code>Jamfile.jam</code>. If <code>FILETITLE</code> is specified, <code>.jam</code> is read instead of <code>Jamfile.jam</code>.<p>
A given Jamfile is only ever read in once, even if multiple <code>SubInclude</code> calls are made with the same arguments.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>VAR</em>&nbsp;</td><td>A previously specified <code>TOP</code> variable created with <a class="el" href="jambase_rules.html#rule_SubDir">rule SubDir TOP d1...dn : SUBNAME</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>d1...dn</em>&nbsp;</td><td>Additional directory components from  making up the total path of <code>/d1/.../dn/</code>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FILETITLE</em>&nbsp;</td><td>(optional) If specified, a Jamfile called <code>.jam</code> is read instead of the default <code>Jamfile.jam</code>.</td></tr>
  </table>
</dl>
<hr>
 <h2><a class="anchor" name="rule_Workspace">
rule Workspace SOLUTION_NAME : TARGETS</a></h2>
<p>
Workspaces are automatically generated for any executable processed while reading in the Jamfiles. To create additional workspaces, such as one that combines all executables into one workspace, the <code>Workspace</code> rule is used.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>SOLUTION_NAME</em>&nbsp;</td><td>The name of the new solution to generate. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>TARGETS</em>&nbsp;</td><td>The list of targets representing the projects of the new workspace.</td></tr>
  </table>
</dl>
<div class="fragment"><pre class="fragment">        Workspace Project-all : AppA AppB AppC ;
</pre></div><p>
<hr>
 </div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Nov 12 23:23:34 2008 for JamPlus manual by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7 </small></address>
</body>
</html>
