<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Bootstrapping/Building</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.8.3.1 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Bootstrapping/Building </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="building_overview"></a>
Overview</h1>
<p>JamPlus comes with some simple makefiles to bootstrap the initial build of the JamPlus executable. A good portion of the makefile contents in <code>Makefile.Common</code> are shared between the Visual C++ NMake-based build and the GCC-based make build.</p>
<p>Binaries are built into a platform specific directory under the <code>bin/</code> directory, such as <code>bin/win32/</code> or <code>bin/macosx32/</code>. All associated scripts and optional Lua binaries are also within this platform directory. In doing this, multiple JamPlus platform binaries can be deployed within the same directory tree, making it easy to check into your source control system.</p>
<p>In order to build a fully working JamPlus directory, certain Lua binaries are required. By setting the environment variable <code>LUA_BIN</code> to the directory containing the appropriate LuaPlus binaries, the build processes described below will automatically populate the JamPlus bin/ directory with the Lua binaries.</p>
<h1><a class="anchor" id="building_visualc"></a>
Building for Visual C++</h1>
<p>The Visual C++ build uses Visual Studio's Link Time Code Generation support to create a highly optimized executable.</p>
<p>In order to build JamPlus using the Visual C++ compiler, do the following:</p>
<div class="fragment"><div class="line">cd src</div>
<div class="line">jmake</div>
</div><!-- fragment --><p><code>jmake</code> selects the most recent Visual Studio version available and uses that compiler to build the Jam executable. When finished, the Jam executable will have been built as <code>bin/win32/jam.exe</code></p>
<p>Alternatively, Visual Studio 2012 and Visual Studio 2010 solutions are maintained. Open <code>src/jam.VS2012.sln</code> to build within the IDE. Note: When using the standard Visual Studio 2012 Release build, the Jam executable is nowhere near as fast as the command-line generated Link Time Code Generated version.</p>
<p>To clean the Visual C++ build, run:</p>
<div class="fragment"><div class="line">cd src</div>
<div class="line">clean</div>
</div><!-- fragment --><h1><a class="anchor" id="building_macosx"></a>
Building for Linux</h1>
<p>In order to build JamPlus on Mac OS X, do the following:</p>
<div class="fragment"><div class="line">cd src</div>
<div class="line">make macosx32</div>
</div><!-- fragment --><p>When finished, the Jam executable will have been built as <code>bin/macosx32/jam</code>.</p>
<p>Alternatively, an Xcode project for debugging Jam is maintained. Open <code>src/jam.xcodeproj</code> to build within Xcode. Please note that the Release build does not currently work. Build a Release build using the makefile instructions above.</p>
<h1><a class="anchor" id="building_macosx"></a>
Building for Linux</h1>
<p>In order to build JamPlus on Linux, do the following:</p>
<div class="fragment"><div class="line">cd src</div>
<div class="line">make linux32</div>
</div><!-- fragment --><p>When finished, the Jam executable will have been built as <code>bin/linux32/jam</code>.</p>
<h1><a class="anchor" id="build_luaplus"></a>
Building and Copying the LuaPlus Binaries</h1>
<p>Grab the LuaPlus source code. One way of doing so is by cloning the LuaPlus Git repository:</p>
<div class="fragment"><div class="line">git clone http:<span class="comment">//git.luaplus.org/luaplus51-all.git</span></div>
</div><!-- fragment --><p>Change directories into <code>luaplus51-all</code>.</p>
<p>If you are building the JamPlus nextgen version, be sure to checkout the LuaPlus nextgen branch:</p>
<div class="fragment"><div class="line">git checkout nextgen</div>
</div><!-- fragment --><p>Build LuaPlus by running:</p>
<div class="fragment"><div class="line">jam</div>
</div><!-- fragment --><p>When finished a <code>bin.compilers.platform/</code> directory will have been created. Set the <code>LUA_BIN</code> environment variable to point to the directory.</p>
<p>On Windows, you would do so like:</p>
<div class="fragment"><div class="line"><span class="keyword">set</span> LUA_BIN=d:/luaplus51-all/bin.vs2010.win32</div>
</div><!-- fragment --><p>In a Bash shell under Linux or Mac OS X, you would export:</p>
<div class="fragment"><div class="line">export LUA_BIN=~/luaplus51-all/bin.gcc.linux32</div>
</div><!-- fragment --><p>Change directories back to the <code>jamplus/src/</code> directory. Run the appropriate <code>jmake</code>/<code>make</code> command again, and the LuaPlus binaries will be copied to the appropriate <code>jamplus/bin/</code> directory. </p>
</div></div><!-- contents -->
</body>
</html>
