<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Bootstrapping/Building</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.8.9.1 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Bootstrapping/Building </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="building_bootstrapping"></a>
Quick bootstrapping of Jam</h1>
<p>The directions in the sections below describe the build process in better detail, but if you just need a working copy of JamPlus with its dependencies, run the following:</p>
<div class="fragment"><div class="line"><span class="preprocessor"># If you are on Linux and want a 32-bit build:</span></div>
<div class="line">./bootstrap-linux32.sh</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># If you are on Linux and want a 64-bit build:</span></div>
<div class="line">./bootstrap-linux64.sh</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># If you are on Mac OS X and want a 32-bit build:</span></div>
<div class="line">./bootstrap-macosx32.sh</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># If you are on Mac OS X and want a 64-bit build:</span></div>
<div class="line">./bootstrap-macosx64.sh</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># If you are on Windows and want a 32-bit build:</span></div>
<div class="line">bootstrap-win32.bat</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># If you are on Windows and want a 64-bit build:</span></div>
<div class="line"><span class="preprocessor">bootstrap-win64.bat</span></div>
</div><!-- fragment --><p>The instructions below are unnecessary if the bootstrap scripts are used.</p>
<h1><a class="anchor" id="building_overview"></a>
Advanced Overview</h1>
<p>JamPlus comes with some simple makefiles to bootstrap the initial build of the JamPlus executable. A good portion of the makefile contents in <code>Makefile.Common</code> are shared between the Visual C++ NMake-based build and the GCC-based make build.</p>
<p>Binaries are built into a platform specific directory under the <code>bin/</code> directory, such as <code>bin/win32/</code> or <code>bin/macosx32/</code>. All associated scripts and optional Lua binaries are also within this platform directory. Multiple JamPlus platform binaries can be deployed within the same directory tree, making it easy to check into your source control system.</p>
<p>In order to build a fully working JamPlus directory, certain Lua binaries are required. By setting the environment variable <code>LUA_BIN</code> to the directory containing the appropriate LuaPlus binaries, the build processes described below will automatically populate the JamPlus bin/ directory with the Lua binaries.</p>
<h1><a class="anchor" id="building_visualc"></a>
Building for Visual C++</h1>
<p>The Visual C++ build uses Visual Studio's Link Time Code Generation support to create a highly optimized executable.</p>
<p>In order to build JamPlus for Win32 using the Visual C++ compiler, run the following:</p>
<div class="fragment"><div class="line">cd src</div>
<div class="line">jmake-win32</div>
</div><!-- fragment --><p>To build JamPlus for Win64 using the Visual C++ compiler, run the following:</p>
<div class="fragment"><div class="line">cd src</div>
<div class="line">jmake-win64</div>
</div><!-- fragment --><p><code>jmake-win32</code> or <code>jmake-win64</code> selects the most recent Visual Studio version available and uses that compiler to build the Jam executable. When finished, the Jam executable will have been built as <code>bin/win32/jam.exe</code> or <code>bin/win64/jam.exe</code>.</p>
<p>To clean the Visual C++ build, run:</p>
<div class="fragment"><div class="line">cd src</div>
<div class="line">clean-win32</div>
<div class="line">clean-win64</div>
</div><!-- fragment --><p>Visual Studio 2010, 2012, and 2013 solutions are maintained for easy debugging of Jam. Open <code>src/jam.VS201?.sln</code> to build within the appropriate IDE. Note: The Release build of the Jam executable built via the IDE is nowhere near as fast as the command-line generated Link Time Code Generated version.</p>
<h1><a class="anchor" id="building_macosx"></a>
Building for Mac OS X</h1>
<p>In order to build JamPlus for Mac OS X 32-bit, run:</p>
<div class="fragment"><div class="line">cd src</div>
<div class="line">make macosx32</div>
</div><!-- fragment --><p>When finished, the Jam executable will have been built as <code>bin/macosx32/jam</code>.</p>
<p>In order to build JamPlus for Mac OS X 64-bit, run:</p>
<div class="fragment"><div class="line">cd src</div>
<div class="line">make macosx64</div>
</div><!-- fragment --><p>When finished, the Jam executable will have been built as <code>bin/macosx64/jam</code>.</p>
<p>Alternatively, an Xcode project for debugging Jam is maintained. Open <code>src/jam.xcodeproj</code> to build within Xcode. Please note that the Release build does not currently work. Build a Release build using the makefile instructions above.</p>
<h1><a class="anchor" id="building_macosx"></a>
Building for Mac OS X</h1>
<p>In order to build JamPlus for Linux 32-bit, run:</p>
<div class="fragment"><div class="line">cd src</div>
<div class="line">make linux32</div>
</div><!-- fragment --><p>When finished, the Jam executable will have been built as <code>bin/linux32/jam</code>.</p>
<p>Alternatively, in order to build JamPlus for Linux 64-bit, run:</p>
<div class="fragment"><div class="line">cd src</div>
<div class="line">make linux64</div>
</div><!-- fragment --><p>When finished, the Jam executable will have been built as <code>bin/linux64/jam</code>.</p>
<h1><a class="anchor" id="build_luaplus"></a>
Building and Copying the LuaPlus Binaries</h1>
<p>The JamPlus Git repository has stripped down copy of LuaPlus.</p>
<p>To build the LuaPlus subset necessary for JamPlus' extended feature set, first change directories into <code>src/luaplus/</code>.</p>
<div class="fragment"><div class="line">cd src</div>
<div class="line">cd luaplus</div>
</div><!-- fragment --><p>Build LuaPlus by running one of the following:</p>
<div class="fragment"><div class="line"><span class="preprocessor"># For Windows 32-bit:</span></div>
<div class="line">..\..\bin\win32\jam.exe</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># For Windows 64-bit:</span></div>
<div class="line">..\..\bin\win64\jam.exe</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># For Linux 32-bit:</span></div>
<div class="line">../../bin/linux32/jam</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># For Linux 64-bit:</span></div>
<div class="line">../../bin/linux64/jam</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># For Mac OS X 32-bit:</span></div>
<div class="line">../../bin/macosx32/jam</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># For Mac OS X 64-bit:</span></div>
<div class="line"><span class="preprocessor">../../bin/macosx64/jam</span></div>
</div><!-- fragment --><p>When finished a <code>src/luaplus/.build/PLATFORM/bin/</code> directory will have been created. Set the <code>LUA_BIN</code> environment variable to point to the directory using one of the following approaches:</p>
<div class="fragment"><div class="line"><span class="preprocessor"># For Windows 32-bit:</span></div>
<div class="line">set LUA_BIN=c:/jamplus/src/luaplus/.build/win32/bin</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># For Windows 64-bit:</span></div>
<div class="line">set LUA_BIN=c:/jamplus/src/luaplus/.build/win64/bin</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># For Linux 32-bit:</span></div>
<div class="line">export LUA_BIN=~/jamplus/src/luaplus/.build/linux32/bin</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># For Linux 64-bit:</span></div>
<div class="line">export LUA_BIN=~/jamplus/src/luaplus/.build/linux64/bin</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># For Mac OS X 32-bit:</span></div>
<div class="line">export LUA_BIN=~/jamplus/src/luaplus/.build/macosx32/bin</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># For Mac OS X 64-bit:</span></div>
<div class="line"><span class="preprocessor">export LUA_BIN=~/jamplus/src/luaplus/.build/macosx64/bin</span></div>
</div><!-- fragment --><p>Change directories back to the <code>jamplus/src/</code> directory.</p>
<div class="fragment"><div class="line">cd ..</div>
</div><!-- fragment --><p>Run the appropriate <code>jmake</code>/<code>make</code> command again, and the LuaPlus binaries will be copied to the appropriate <code>jamplus/bin/</code> directory. </p>
</div></div><!-- contents -->
</body>
</html>
